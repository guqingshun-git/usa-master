(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"05229":function(e,t,n){"use strict";n.r(t);var a=n("deb7"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"0bba":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={vkMallSetUserBaseInfo:n("9ae4").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.complete?n("v-uni-view",{staticClass:"app login"},[n("login-h5",{attrs:{options:e.options},on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.loginSuccess.apply(void 0,arguments)}}}),n("vk-mall-set-user-base-info",{attrs:{needInviteCode:e.updateUserInfoPopup.needInviteCode},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.onUpdateUserInfo.apply(void 0,arguments)}},model:{value:e.updateUserInfoPopup.show,callback:function(t){e.$set(e.updateUserInfoPopup,"show",t)},expression:"updateUserInfoPopup.show"}})],1):e._e()},o=[]},"2f4b":function(e,t,n){"use strict";n.r(t);var a=n("6236"),i=n("81af");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("8430");var r=n("828b"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"19ebb32d",null,!1,a["a"],void 0);t["default"]=s.exports},3157:function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("9b1b"));n("aa9c"),n("c223");var o=a(n("2f4b")),r=a(n("e57c")),s={name:"login-h5",emits:["success"],components:{loginBase:o.default,loginFooter:r.default},props:{options:{type:Object,default:function(){return{}}}},data:function(){return{complete:!1,loading:!1,logoImage:"/static/logo.png",loginWay:"pwd",weixinLoginMode:0,footerLoginMode:[],showLogin:!1}},mounted:function(){this.init()},methods:{init:function(){var e=uni.vk,t=this.options,n=e.getVuex("$user.mchInfo.logo");n&&(this.logoImage=n);var a=e.h5.getEnv();if(this.envH5=a,"h5-weixin"===a&&t.code&&this.loginWeixin(t),"h5-weixin"===a){var i=e.getVuex("$user.mchInfo.h5_weixin.login_mode")||0;this.weixinLoginMode=i;this.loginWay=["pwd","onekey"][i],"none"!==this.getWeixinLoginType()&&this.footerLoginMode.push("weixin")}this.complete=!0},loginWeixin:function(e){var t=this,n=uni.vk,a=this.agreementCom;if(a){var o=this.getWeixinLoginType();"none"!==o?n.userCenter.loginByWeixin({data:(0,i.default)((0,i.default)({},e),{},{type:o}),success:function(e){t.loginSuccess(e)}}):n.alert("商家已禁用微信登录")}else this.agreementLogin((function(){t.loginWeixin(e)}))},getWeixinLoginType:function(){var e=uni.vk,t=this.envH5,n="h5";"h5-weixin"===t&&(n="h5_weixin");var a=e.getVuex("$user.mchInfo.".concat(n,".weixin_login_type"))||"auto";return a},agreementLogin:function(e){var t=this,n=uni.vk;n.confirm("是否已查看并同意用户协议内容?","提示","同意","再看看",(function(n){n.confirm&&(t.userAgreement(!0),"function"===typeof e&&e())}))},userAgreement:function(e){var t=uni.vk;t.setVuex("$user.agreement",e)},getH5WeixinCode:function(){var e=uni.vk,t=this.agreementCom;if(t){var n=e.myfn.user.getH5WeixinAppid(),a=window.location.href.split("?")[0],i="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(n,"&redirect_uri=").concat(a,"&response_type=code&scope=").concat("snsapi_userinfo","&state=login#wechat_redirect");window.location.href=i}else this.agreementLogin(this.getH5WeixinCode)},loginSuccess:function(e,t){this.$emit("success",e,t)}},watch:{},computed:{agreementCom:function(){return uni.vk.getVuex("$user.agreement")}}};t.default=s},"3f64":function(e,t,n){"use strict";n.r(t);var a=n("960a"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},4996:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={uIcon:n("6086").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.complete?n("v-uni-view",{staticClass:"app login login-h5"},[["pwd","sms"].indexOf(e.loginWay)>-1?n("login-base",{attrs:{options:e.options},on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.loginSuccess.apply(void 0,arguments)}},scopedSlots:e._u([{key:"loginIcon",fn:function(){return[n("v-uni-view",{staticClass:"login-icon-title"},[e.footerLoginMode&&e.footerLoginMode.length>0?n("v-uni-text",[e._v("------------ 第三方账号登录 ------------")]):e._e()],1),n("v-uni-view",{staticClass:"login-icon-view"},["h5-weixin"===e.envH5&&e.footerLoginMode.indexOf("weixin")>-1?n("v-uni-view",{staticClass:"login-icon-item"},[n("u-icon",{attrs:{name:"weixin-fill",size:"80",color:"#19be6b"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getH5WeixinCode.apply(void 0,arguments)}}})],1):e._e()],1)]},proxy:!0}],null,!1,687720836)}):["onekey"].indexOf(e.loginWay)>-1?n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"header",staticStyle:{"margin-top":"200rpx"}},[n("v-uni-image",{staticClass:"logo",attrs:{src:e.logoImage}})],1),n("v-uni-view",{staticClass:"submit-btn"},["h5-weixin"===e.envH5?[e.agreementCom?n("v-uni-button",{staticClass:"btn success circle",attrs:{"hover-class":"hover",plain:!1,type:"success",shape:"circle","hair-line":!1,disabled:e.loading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getH5WeixinCode.apply(void 0,arguments)}}},[e._v("微信登录")]):n("v-uni-button",{staticClass:"btn success circle",attrs:{"hover-class":"hover",plain:!1,type:"success",shape:"circle","hair-line":!1},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getH5WeixinCode.apply(void 0,arguments)}}},[e._v("请先同意用户协议")])]:e._e()],2),n("v-uni-view",{staticClass:"login-way-change",staticStyle:{"margin-top":"60rpx"}},[n("v-uni-text",{staticClass:"login-way-right",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.loginWay="pwd"}}},[e._v("切换账号密码登录")])],1),n("login-footer")],1):e._e()],1):e._e()},o=[]},"5df2":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={uPopup:n("0ebc").default,uIcon:n("6086").default,uButton:n("cca9d").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("u-popup",{attrs:{value:e.value,modelValue:e.modelValue,mode:"bottom","border-radius":"50",blur:"20",closeable:!1,"mask-close-able":!1}},[n("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"title"},[e._v("基础信息设置")]),n("v-uni-view",{staticClass:"sub-title"},[e._v("获取您的昵称、头像主要用于向您提供具有辨识度的用户中心界面")]),n("v-uni-view",{staticClass:"avatar-box"},[n("v-uni-view",{staticClass:"button-shadow"},[n("v-uni-button",{staticClass:"avatar-button",attrs:{"open-type":"chooseAvatar"},on:{chooseavatar:function(t){arguments[0]=t=e.$handleEvent(t),e.onChooseAvatar.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseAvatar.apply(void 0,arguments)}}},[e.userInfo.avatar?n("v-uni-view",{staticClass:"avatar-image"},[n("v-uni-image",{staticClass:"image",attrs:{src:e.userInfo.avatar,mode:"aspectFill"}})],1):n("v-uni-view",{staticClass:"avatar-empty"},[n("v-uni-text",[e._v("头像")])],1),n("v-uni-view",{staticClass:"avatar-icon"},[n("u-icon",{attrs:{name:"camera-fill",size:"30"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"input-box"},[n("v-uni-view",{staticClass:"label"},[e._v("昵称")]),n("v-uni-input",{staticClass:"input",attrs:{type:"nickname",name:"nickname",placeholder:"请输入昵称","placeholder-style":"color: #8e8e8e;"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.onNicknameBlur.apply(void 0,arguments)},nicknamereview:function(t){arguments[0]=t=e.$handleEvent(t),e.onNicknamereview.apply(void 0,arguments)}},model:{value:e.userInfo.nickname,callback:function(t){e.$set(e.userInfo,"nickname",t)},expression:"userInfo.nickname"}})],1),e.needInviteCode&&!e.inviteCodeDisable&&"000000"==e.needInviteCode?n("v-uni-view",{staticClass:"input-box"},[n("v-uni-view",{staticClass:"label"},[e._v("邀请码")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入邀请码","placeholder-style":"color: #8e8e8e;",disabled:e.inviteCodeDisable},model:{value:e.userInfo.inviteCode,callback:function(t){e.$set(e.userInfo,"inviteCode",t)},expression:"userInfo.inviteCode"}})],1):e._e(),n("v-uni-view",{staticClass:"footer-box"},[n("v-uni-button",{staticClass:"submit-btn",class:{disabled:!e.userInfo.avatar||e.loading},attrs:{"form-type":"submit",type:"success",disabled:!e.userInfo.avatar||e.loading,loading:e.loading}},[e._v("保 存")]),n("v-uni-view",{staticStyle:{"margin-top":"50rpx"}},[n("u-button",{attrs:{type:"default",disabled:e.loading},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v("暂不设置")])],1)],1)],1)],1)],1)},o=[]},6236:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={vkDataVerificationCode:n("e98f").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.complete?n("v-uni-view",{staticClass:"app login login-base"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"header"},[n("v-uni-image",{staticClass:"logo",attrs:{src:e.logoImage}})],1),n("v-uni-swiper",{staticStyle:{height:"380rpx"},attrs:{duration:"200","disable-touch":!0,current:"pwd"==e.loginWay?0:1}},[n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"form-view"},[n("v-uni-view",{staticClass:"form-item form-border"},[n("v-uni-input",{staticClass:"form-input",attrs:{type:"text",maxlength:50,placeholder:"用户名/手机号","placeholder-style":"'color':'#8e8e8e'"},model:{value:e.form1.username,callback:function(t){e.$set(e.form1,"username",t)},expression:"form1.username"}})],1),n("v-uni-view",{staticClass:"form-item form-border"},[n("v-uni-input",{staticClass:"form-input",attrs:{type:"text",password:!0,maxlength:50,placeholder:"密码","placeholder-style":"'color':'#8e8e8e'"},model:{value:e.form1.password,callback:function(t){e.$set(e.form1,"password",t)},expression:"form1.password"}})],1)],1)],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"form-view"},[n("v-uni-view",{staticClass:"form-item form-border"},[n("v-uni-input",{staticClass:"form-input",attrs:{type:"text",maxlength:50,placeholder:"手机号","placeholder-style":"'color':'#8e8e8e'"},model:{value:e.form1.mobile,callback:function(t){e.$set(e.form1,"mobile",t)},expression:"form1.mobile"}})],1),n("v-uni-view",{staticClass:"form-item form-border"},[n("v-uni-input",{staticClass:"form-input",attrs:{type:"number",maxlength:6,placeholder:"请输入短信验证码","placeholder-style":"'color':'#8e8e8e'"},model:{value:e.form1.code,callback:function(t){e.$set(e.form1,"code",t)},expression:"form1.code"}}),n("vk-data-verification-code",{attrs:{"check-user-exist":!0,type:"login",seconds:"60",mobile:e.form1.mobile,"custom-style":"font-size: 28rpx;"},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.codeError.apply(void 0,arguments)}}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"login-way-change"},["pwd"==e.loginWay?n("v-uni-label",{staticClass:"login-way-left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.savePwd=!e.savePwd}}},[n("v-uni-checkbox",{staticClass:"checkbox",attrs:{checked:e.savePwd,"active-color":"#737373",shape:"circle"}}),n("v-uni-text",[e._v("记住密码")])],1):e._e(),"pwd"==e.loginWay?n("v-uni-text",{staticClass:"login-way-right",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.loginWay="sms"}}},[e._v("切换验证码登录")]):"sms"==e.loginWay?n("v-uni-text",{staticClass:"login-way-right",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.loginWay="pwd"}}},[e._v("切换账号密码登录")]):e._e()],1),n("v-uni-view",{staticClass:"submit-btn"},[n("v-uni-button",{staticClass:"btn success circle",attrs:{"hover-class":"hover",plain:!1,type:"success",shape:"circle","hair-line":!1,disabled:e.loading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.login()}}},[e._v(e._s(e.agreementCom?"登 录":"请先同意用户协议"))])],1),e._t("loginIcon"),n("login-footer",{attrs:{register:!0}})],2)],1):e._e()},o=[]},"62ea":function(e,t,n){var a=n("e4af");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("a2a5608e",a,!0,{sourceMap:!1,shadowMode:!1})},"6a25":function(e,t,n){"use strict";var a=n("bd61"),i=n.n(a);i.a},"6adf":function(e,t,n){"use strict";n.r(t);var a=n("0bba"),i=n("3f64");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var r=n("828b"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"5854a619",null,!1,a["a"],void 0);t["default"]=s.exports},7059:function(e,t,n){var a=n("8be2");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("2ba35aac",a,!0,{sourceMap:!1,shadowMode:!1})},"77d6":function(e,t,n){"use strict";n.r(t);var a=n("3157"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"81af":function(e,t,n){"use strict";n.r(t);var a=n("fe24"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"841e":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa"),n("5c47"),n("a1c1"),n("c223"),n("0506"),n("5ef2");var a={"zh-Hans":{startText:"获取验证码",changeText:"X秒重新获取",endText:"重新获取",tryAgainInSeconds:"秒后再重试",pleaseEnterTheCorrectMobileNumber:"请输入正确的手机号码",sending:"发送中...",verificationCodeSent:"验证码已发送",triggerDayLevelFlowControl:"触发天级流控",pleaseTryAgainTomorrow:"短信发送频繁，请明日再试！",pleaseTryAgainIn1Hour:"短信发送频繁，请过1小时后再试！",triggerMinuteLevelFlowControl:"触发分钟级流控",pleaseTryAgainLater:"短信发送频繁，请稍后再试！"},"zh-Hant":{startText:"獲取驗證碼",changeText:"X秒重新獲取",endText:"重新獲取",tryAgainInSeconds:"秒後再重試",pleaseEnterTheCorrectMobileNumber:"請輸入正確的手機號碼",sending:"發送中...",verificationCodeSent:"驗證碼已發送",triggerDayLevelFlowControl:"觸發天級流控",pleaseTryAgainTomorrow:"短信發送頻繁，請明日再試！",pleaseTryAgainIn1Hour:"短信發送頻繁，請過1小時後再試！",triggerMinuteLevelFlowControl:"觸發分鐘級流控",pleaseTryAgainLater:"短信發送頻繁，請稍後再試！"},en:{startText:"Get code",changeText:"X second reacquire",endText:"Reacquire",tryAgainInSeconds:"Try again in seconds",pleaseEnterTheCorrectMobileNumber:"Please enter the correct mobile number",sending:"Sending...",verificationCodeSent:"Verification code sent",triggerDayLevelFlowControl:"Trigger day level flow control",pleaseTryAgainTomorrow:"SMS sent frequently, please try again tomorrow!",pleaseTryAgainIn1Hour:"SMS sent frequently, please try again in 1 hour",triggerMinuteLevelFlowControl:"Trigger minute level flow control",pleaseTryAgainLater:"SMS sent frequently, please try again later"}},i={name:"vk-data-verification-code",emits:["start","end","change","send","codeChange","error","success"],props:{mode:{type:String,default:"mobile"},mobile:{type:String},type:{type:String,default:"login"},customStyle:{type:[String,Object]},seconds:{type:[String,Number],default:60},startText:{type:String,default:""},changeText:{type:String,default:""},endText:{type:String,default:""},keepRunning:{type:Boolean,default:!1},uniqueKey:{type:String,default:""},checkUserExist:{type:Boolean,default:!1}},data:function(){return{secNum:this.seconds,timer:null,canGetCode:!0,tips:"",locale:{}}},created:function(){if("undefined"!==typeof vk){var e=vk.pubfn.getLocale();this.locale=a[e]}else this.locale=a["zh-Hans"]},mounted:function(){this.checkKeepRunning()},watch:{seconds:{immediate:!0,handler:function(e){this.secNum=e}}},computed:{startTextCom:function(){return this.startText||this.locale.startText||"获取验证码"},changeTextCom:function(){return this.changeText||this.locale.changeText||"X秒重新获取"},endTextCom:function(){return this.endText||this.locale.endText||"重新获取"}},methods:{checkKeepRunning:function(){var e=Number(uni.getStorageSync(this.uniqueKey+"_$uCountDownTimestamp"));if(!e)return this.changeEvent(this.startTextCom);var t=Math.floor(+new Date/1e3);this.keepRunning&&e&&e>t?(this.secNum=e-t,uni.removeStorageSync(this.uniqueKey+"_$uCountDownTimestamp"),this.start()):this.changeEvent(this.startTextCom)},start:function(){var e=this;this.timer&&(clearInterval(this.timer),this.timer=null),this.$emit("start"),this.canGetCode=!1,this.changeEvent(this.changeTextCom.replace(/x|X/,this.secNum)),this.setTimeToStorage(),this.timer=setInterval((function(){--e.secNum?e.changeEvent(e.changeTextCom.replace(/x|X/,e.secNum)):(clearInterval(e.timer),e.timer=null,e.changeEvent(e.endTextCom),e.secNum=e.seconds,e.$emit("end"),e.canGetCode=!0)}),1e3)},reset:function(e){this.canGetCode=!0,clearInterval(this.timer),this.secNum=this.seconds,this.changeEvent(e||this.endTextCom)},changeEvent:function(e){this.codeChange(e),this.$emit("change",e)},setTimeToStorage:function(){if(this.keepRunning&&this.timer&&this.secNum>0&&this.secNum<=this.seconds){var e=Math.floor(+new Date/1e3);uni.setStorage({key:this.uniqueKey+"_$uCountDownTimestamp",data:e+Number(this.secNum)})}},codeChange:function(e){this.tips=e,this.$emit("codeChange",e)},sendSmsCode:function(){var e=this,t=uni.vk,n=e.mobile,a=e.type,i=e.canGetCode,o=e.checkUserExist,r=e.secNum,s=e.mode;i?"custom"!==s?t.pubfn.test(n,"mobile")?(e.tips=e.locale.sending,t.userCenter.sendSmsCode({needAlert:!1,data:{mobile:n,type:a,checkUserExist:o},success:function(n){t.toast(e.locale.verificationCodeSent),e.start(),e.$emit("success",n)},fail:function(n){e.tips=e.startTextCom,n.errMsg&&n.errMsg.indexOf("触发天级流控")>-1?t.alert(e.locale.pleaseTryAgainTomorrow,(function(){e.$emit("error",n)})):n.errMsg&&n.errMsg.indexOf("触发小时级流控")>-1?t.alert(e.locale.pleaseTryAgainIn1Hour,(function(){e.$emit("error",n)})):n.errMsg&&n.errMsg.indexOf("触发分钟级流控")>-1?t.alert(e.locale.pleaseTryAgainLater,(function(){e.$emit("error",n)})):n.msg?t.alert(n.msg,(function(){e.$emit("error",n)})):t.alert(e.locale.pleaseTryAgainLater,(function(){e.$emit("error",n)}))}})):t.toast(e.locale.pleaseEnterTheCorrectMobileNumber,"none"):e.$emit("send",{type:a}):t.toast("".concat(r).concat(e.locale.tryAgainInSeconds),"none")}},beforeDestroy:function(){this.setTimeToStorage(),clearTimeout(this.timer),this.timer=null}};t.default=i},8430:function(e,t,n){"use strict";var a=n("62ea"),i=n.n(a);i.a},"84fb":function(e,t,n){"use strict";n.r(t);var a=n("841e"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"88fe":function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("2634")),o=a(n("2fdc"));n("5ef2"),n("bf0f");var r={options:{},emits:["update:modelValue","input","update","close"],props:{value:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},needInviteCode:{type:Boolean,default:!1}},data:function(){return{inviteCodeDisable:!1,loading:!1,userInfo:{avatar:"",nickname:"",inviteCode:""},check:{run:!1,avatar:!0,nickname:!0}}},mounted:function(){uni.$on("uAvatarCropper",this.updateAvatar)},destroy:function(){uni.$off("uAvatarCropper",this.updateAvatar)},methods:{onOpen:function(){var e=uni.vk;this.userInfo.avatar=e.getVuex("$user.userInfo.avatar")||"",this.userInfo.nickname=e.getVuex("$user.userInfo.nickname")||"",this.needInviteCode&&(this.userInfo.inviteCode=e.getVuex("$user.inviteCode")||"",this.inviteCodeDisable=!!e.getVuex("$user.inviteCode"))},onClose:function(){},onChooseAvatar:function(e){this.userInfo.avatar=e.detail.avatarUrl,this.check.avatar=!0},chooseAvatar:function(){this.$u.route({url:"/uni_modules/vk-uview-ui/components/u-avatar-cropper/u-avatar-cropper",params:{destWidth:300,rectWidth:200,fileType:"jpg"}})},updateAvatar:function(e){var t=this,n=uni.vk;e.indexOf(";base64,")>-1?n.pubfn.base64ToFile({base64:e,success:function(e){t.userInfo.avatar=e.path}}):this.userInfo.avatar=e},onNicknameBlur:function(){this.check.run&&(this.check.nickname=!1)},onNicknamereview:function(e){var t=e.detail.pass;this.check.nickname=t,t||(this.userInfo.nickname="")},submit:function(e){var t=this,n=uni.vk;this.loading=!0,this.userInfo.nickname=e.detail.value.nickname,new Promise((function(e,a){if(t.userInfo.avatar)if(t.userInfo.nickname){if(t.check.run){if(!t.check.nickname)return void a({msg:"昵称非法，请更换昵称"});if(!t.check.avatar)return void a({msg:"头像非法，请更换头像"})}0!==t.userInfo.avatar.indexOf("https://")?n.uploadFile({filePath:t.userInfo.avatar,fileType:"image",success:function(n){t.userInfo.avatar=n.url,e()},fail:function(e){a(e)}}):e()}else a({msg:"请输入昵称"});else a({msg:"请选择头像"})})).then((function(e){return t.updateUser()})).catch((function(e){var t=e.msg||e.errMsg||e.message;n.toast(t)})).finally((function(){t.loading=!1}))},submitUserInfo:function(){},updateUser:function(){var e=this,t=uni.vk;return new Promise(function(){var n=(0,o.default)((0,i.default)().mark((function n(a,o){return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!e.userInfo.inviteCode){n.next=4;break}return n.next=4,e.bindInviteCode();case 4:return n.next=6,t.userCenter.updateUser({loading:{that:e,name:"loading"},data:{avatar:e.userInfo.avatar,nickname:e.userInfo.nickname}});case 6:e.close(),e.$emit("update",e.userInfo),a(),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),o(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}())},close:function(){this.$emit("input",!1),this.$emit("close")},bindInviteCode:function(){var e=uni.vk;return e.callFunction({url:"client/salesman.pub_addUserLocking",title:"绑定中...",data:{invite_code:this.userInfo.inviteCode}})}},watch:{valueCom:function(e){e?this.onOpen():this.onClose()}},computed:{valueCom:function(){return this.value}}};t.default=r},"8be2":function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".login[data-v-5ffbee3a]{--success:#19be6b;\n}.content[data-v-5ffbee3a]{display:flex;flex-direction:column;justify-content:center}\r\n\r\n/* 头部 logo 开始 */.header[data-v-5ffbee3a]{width:%?160?%;height:%?160?%;box-shadow:%?0?% %?0?% %?60?% %?0?% rgba(0,0,0,.1);border-radius:50%;margin-top:%?40?%;margin-bottom:%?40?%;margin-left:auto;margin-right:auto}.header .logo[data-v-5ffbee3a]{width:%?160?%;height:%?160?%;border-radius:50%;border:0}\r\n\r\n/* 头部 logo 结束 */\r\n\r\n/* 表单主体 开始 */.form-view[data-v-5ffbee3a]{display:flex;flex-direction:column;padding-left:%?70?%;padding-right:%?70?%}.form-view .form-item[data-v-5ffbee3a]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;color:#333;padding:%?24?% %?32?%;margin:%?26?% 0;background-color:#fff}.form-view .form-border[data-v-5ffbee3a]{border:none;border-radius:2.5rem;-webkit-box-shadow:0 0 %?60?% 0 rgba(43,86,112,.1);box-shadow:0 0 %?60?% 0 rgba(43,86,112,.1)}.form-view .form-input[data-v-5ffbee3a]{flex:1;text-align:left;font-size:%?28?%;padding-right:%?10?%;margin-left:%?20?%;width:100%;min-height:%?70?%}\r\n\r\n/* 表单主体 结束 */\r\n\r\n/* 主体按钮 开始 */.submit-btn[data-v-5ffbee3a]{margin-top:%?60?%;width:80%;height:%?100?%;margin-left:auto;margin-right:auto}.submit-btn .btn[data-v-5ffbee3a]{height:%?76?%;line-height:%?76?%;font-size:%?30?%;overflow:hidden}.submit-btn .btn.success[data-v-5ffbee3a]{background-color:var(--success);color:#fff}.submit-btn .btn.circle[data-v-5ffbee3a]{border-radius:%?100?%}.submit-btn .btn.hover[data-v-5ffbee3a]{opacity:.7}\r\n\r\n/* 主体按钮 结束 */\r\n\r\n/* 底部 开始*/.footer[data-v-5ffbee3a]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:%?28?%;margin-top:%?80?%;color:rgba(0,0,0,.7);text-align:center;height:%?40?%;line-height:%?40?%}.footer.bottom[data-v-5ffbee3a]{position:absolute;bottom:%?100?%;text-align:center;width:100%}.footer .label[data-v-5ffbee3a]{display:flex;align-items:center}.footer .center-line[data-v-5ffbee3a]{font-size:%?24?%;margin-left:%?15?%;margin-right:%?15?%}.footer .footer-checkbox[data-v-5ffbee3a]{-webkit-transform:scale(.7);transform:scale(.7)}.footer .link[data-v-5ffbee3a]{color:var(--success)}\r\n\r\n/* 底部 结束*/\r\n\r\n/* 其他登录开始 */.login-icon-title[data-v-5ffbee3a]{width:100%;text-align:center;margin-top:%?50?%;color:rgba(0,0,0,.3);font-size:%?24?%}.login-icon-view[data-v-5ffbee3a]{width:100%;text-align:center;margin-top:%?30?%;display:flex;justify-content:center}.login-icon-item[data-v-5ffbee3a]{width:%?120?%;display:flex;text-align:center;justify-content:center}\r\n\r\n/* 其他登录结束 */\r\n\r\n/* 登录方式切换 开始 */.login-way-change[data-v-5ffbee3a]{display:flex;padding:0 %?80?%;align-items:center;height:%?50?%}.login-way-change .login-way-left .checkbox[data-v-5ffbee3a]{-webkit-transform:scale(.7);transform:scale(.7)}.login-way-change .login-way-right[data-v-5ffbee3a]{flex:1;text-align:right}\r\n\r\n/* 登录方式切换 结束 */\r\n\r\n/* 手机号授权提示 开始 */.auth-tips[data-v-5ffbee3a]{font-size:%?24?%;color:#f85959;text-align:center;margin-top:%?40?%;font-weight:700;\r\n\t/* 增加动画抖动，持续2秒，防止用户没看到提示 */-webkit-animation:shake-data-v-5ffbee3a 2s;animation:shake-data-v-5ffbee3a 2s}@-webkit-keyframes shake-data-v-5ffbee3a{0%{-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}50%{-webkit-transform:translateX(10px);transform:translateX(10px)}75%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes shake-data-v-5ffbee3a{0%{-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}50%{-webkit-transform:translateX(10px);transform:translateX(10px)}75%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}\r\n\r\n/* 手机号授权提示 结束 */",""]),e.exports=t},"8f6e":function(e,t,n){var a=n("cc98");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("d9c6adc4",a,!0,{sourceMap:!1,shadowMode:!1})},"960a":function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("5ef2");var i=a(n("9b1b")),o=a(n("2f4b")),r=a(n("f836")),s=uni.vk,c={components:{loginBase:o.default,loginH5:r.default},data:function(){return{complete:!1,options:{},loading:!1,updateUserInfoPopup:{show:!1,data:{},needInviteCode:!1}}},onLoad:function(e){s=uni.vk,this.options=e,this.init(e)},onReady:function(){},onShow:function(){},onHide:function(){},onShareAppMessage:function(e){},methods:{init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("init: ",t),this.getMchInfo({success:function(e){s.setVuex("$user.mchInfo",e.mchInfo)},complete:function(){e.complete=!0}});var n=s.getVuex("$user.inviteCode");n&&s.callFunction({url:"client/salesman.pub_getInviteCodeInfo",loading:!0,data:{invite_code:n},success:function(e){e.status||s.setVuex("$user.inviteCode","")}})},getMchInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.getEventReadyData("getMchInfo");t?(t.mchInfo=s.getVuex("$user.mchInfo"),"function"===typeof e.success&&e.success(t),"function"===typeof e.complete&&e.complete(t)):s.callFunction((0,i.default)((0,i.default)({url:"client/pub.getMchInfo",loading:!0},e),{},{success:function(t){s.notifyEventReady("getMchInfo",t),"function"===typeof e.success&&e.success(t)}}))},onUpdateUserInfo:function(){s.pubfn.isNotNull(this.updateUserInfoPopup.data)&&this.loginSuccess(this.updateUserInfoPopup.data,1)},loginSuccess:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(s.setVuex("$user.agreement",!0),0===n){var a=!1;s.pubfn.isNullOne(e.userInfo.avatar,e.userInfo.nickname)&&(a=!0);var i="register"===e.type&&!e.userInfo.inviter_lock&&s.pubfn.isNull(e.userInfo.inviter_uid);if(i&&(this.updateUserInfoPopup.needInviteCode=i,a=!0),a)return this.updateUserInfoPopup.data=e,void(this.updateUserInfoPopup.show=!0)}s.toast("登陆成功!",600,(function(){var e=getApp();if("function"==typeof e.init&&e.init(),s.navigate.getOriginalPage())return s.navigate.originalTo(),!1;var n=getCurrentPages();if(n.length>=2&&n[n.length-2].route&&-1==n[n.length-2].route.indexOf("login")){var a=t.getOpenerEventChannel();a.emit("loginSuccess",{}),s.navigateBack()}else s.navigateToHome()}))}},computed:{}};t.default=c},"9ae4":function(e,t,n){"use strict";n.r(t);var a=n("5df2"),i=n("ddf9");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("6a25");var r=n("828b"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"49adbd1c",null,!1,a["a"],void 0);t["default"]=s.exports},a521:function(e,t,n){"use strict";var a=n("8f6e"),i=n.n(a);i.a},abec:function(e,t,n){"use strict";var a=n("7059"),i=n.n(a);i.a},bd61:function(e,t,n){var a=n("f2be");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("47e048f0",a,!0,{sourceMap:!1,shadowMode:!1})},cc98:function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".login[data-v-0da60642]{--success:#19be6b;\n}.content[data-v-0da60642]{display:flex;flex-direction:column;justify-content:center}\r\n\r\n/* 头部 logo 开始 */.header[data-v-0da60642]{width:%?160?%;height:%?160?%;box-shadow:%?0?% %?0?% %?60?% %?0?% rgba(0,0,0,.1);border-radius:50%;margin-top:%?40?%;margin-bottom:%?40?%;margin-left:auto;margin-right:auto}.header .logo[data-v-0da60642]{width:%?160?%;height:%?160?%;border-radius:50%;border:0}\r\n\r\n/* 头部 logo 结束 */\r\n\r\n/* 表单主体 开始 */.form-view[data-v-0da60642]{display:flex;flex-direction:column;padding-left:%?70?%;padding-right:%?70?%}.form-view .form-item[data-v-0da60642]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;color:#333;padding:%?24?% %?32?%;margin:%?26?% 0;background-color:#fff}.form-view .form-border[data-v-0da60642]{border:none;border-radius:2.5rem;-webkit-box-shadow:0 0 %?60?% 0 rgba(43,86,112,.1);box-shadow:0 0 %?60?% 0 rgba(43,86,112,.1)}.form-view .form-input[data-v-0da60642]{flex:1;text-align:left;font-size:%?28?%;padding-right:%?10?%;margin-left:%?20?%;width:100%;min-height:%?70?%}\r\n\r\n/* 表单主体 结束 */\r\n\r\n/* 主体按钮 开始 */.submit-btn[data-v-0da60642]{margin-top:%?60?%;width:80%;height:%?100?%;margin-left:auto;margin-right:auto}.submit-btn .btn[data-v-0da60642]{height:%?76?%;line-height:%?76?%;font-size:%?30?%;overflow:hidden}.submit-btn .btn.success[data-v-0da60642]{background-color:var(--success);color:#fff}.submit-btn .btn.circle[data-v-0da60642]{border-radius:%?100?%}.submit-btn .btn.hover[data-v-0da60642]{opacity:.7}\r\n\r\n/* 主体按钮 结束 */\r\n\r\n/* 底部 开始*/.footer[data-v-0da60642]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:%?28?%;margin-top:%?80?%;color:rgba(0,0,0,.7);text-align:center;height:%?40?%;line-height:%?40?%}.footer.bottom[data-v-0da60642]{position:absolute;bottom:%?100?%;text-align:center;width:100%}.footer .label[data-v-0da60642]{display:flex;align-items:center}.footer .center-line[data-v-0da60642]{font-size:%?24?%;margin-left:%?15?%;margin-right:%?15?%}.footer .footer-checkbox[data-v-0da60642]{-webkit-transform:scale(.7);transform:scale(.7)}.footer .link[data-v-0da60642]{color:var(--success)}\r\n\r\n/* 底部 结束*/\r\n\r\n/* 其他登录开始 */.login-icon-title[data-v-0da60642]{width:100%;text-align:center;margin-top:%?50?%;color:rgba(0,0,0,.3);font-size:%?24?%}.login-icon-view[data-v-0da60642]{width:100%;text-align:center;margin-top:%?30?%;display:flex;justify-content:center}.login-icon-item[data-v-0da60642]{width:%?120?%;display:flex;text-align:center;justify-content:center}\r\n\r\n/* 其他登录结束 */\r\n\r\n/* 登录方式切换 开始 */.login-way-change[data-v-0da60642]{display:flex;padding:0 %?80?%;align-items:center;height:%?50?%}.login-way-change .login-way-left .checkbox[data-v-0da60642]{-webkit-transform:scale(.7);transform:scale(.7)}.login-way-change .login-way-right[data-v-0da60642]{flex:1;text-align:right}\r\n\r\n/* 登录方式切换 结束 */\r\n\r\n/* 手机号授权提示 开始 */.auth-tips[data-v-0da60642]{font-size:%?24?%;color:#f85959;text-align:center;margin-top:%?40?%;font-weight:700;\r\n\t/* 增加动画抖动，持续2秒，防止用户没看到提示 */-webkit-animation:shake-data-v-0da60642 2s;animation:shake-data-v-0da60642 2s}@-webkit-keyframes shake-data-v-0da60642{0%{-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}50%{-webkit-transform:translateX(10px);transform:translateX(10px)}75%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes shake-data-v-0da60642{0%{-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}50%{-webkit-transform:translateX(10px);transform:translateX(10px)}75%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}\r\n\r\n/* 手机号授权提示 结束 */",""]),e.exports=t},dcef:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"vk-data-verification-code"},[n("v-uni-view",{style:e.customStyle,on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendSmsCode.apply(void 0,arguments)}}},[e._t("default",[e._v(e._s(e.tips))],{tips:e.tips,secNum:e.secNum})],2)],1)},i=[]},ddf9:function(e,t,n){"use strict";n.r(t);var a=n("88fe"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},deb7:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"login-footer",props:{bottom:{type:Boolean,default:!0},register:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){this.init()},methods:{init:function(){},userAgreement:function(e){var t=uni.vk;t.setVuex("$user.agreement",e)},openPrivacyContract:function(){uni.openPrivacyContract({fail:function(e){console.error("err: ",e),uni.showToast({title:"网络错误",icon:"error"})}})}},watch:{},computed:{agreementCom:function(){return uni.vk.getVuex("$user.agreement")}}};t.default=a},e4af:function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".login[data-v-19ebb32d]{--success:#19be6b;\n}.content[data-v-19ebb32d]{display:flex;flex-direction:column;justify-content:center}\r\n\r\n/* 头部 logo 开始 */.header[data-v-19ebb32d]{width:%?160?%;height:%?160?%;box-shadow:%?0?% %?0?% %?60?% %?0?% rgba(0,0,0,.1);border-radius:50%;margin-top:%?40?%;margin-bottom:%?40?%;margin-left:auto;margin-right:auto}.header .logo[data-v-19ebb32d]{width:%?160?%;height:%?160?%;border-radius:50%;border:0}\r\n\r\n/* 头部 logo 结束 */\r\n\r\n/* 表单主体 开始 */.form-view[data-v-19ebb32d]{display:flex;flex-direction:column;padding-left:%?70?%;padding-right:%?70?%}.form-view .form-item[data-v-19ebb32d]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;color:#333;padding:%?24?% %?32?%;margin:%?26?% 0;background-color:#fff}.form-view .form-border[data-v-19ebb32d]{border:none;border-radius:2.5rem;-webkit-box-shadow:0 0 %?60?% 0 rgba(43,86,112,.1);box-shadow:0 0 %?60?% 0 rgba(43,86,112,.1)}.form-view .form-input[data-v-19ebb32d]{flex:1;text-align:left;font-size:%?28?%;padding-right:%?10?%;margin-left:%?20?%;width:100%;min-height:%?70?%}\r\n\r\n/* 表单主体 结束 */\r\n\r\n/* 主体按钮 开始 */.submit-btn[data-v-19ebb32d]{margin-top:%?60?%;width:80%;height:%?100?%;margin-left:auto;margin-right:auto}.submit-btn .btn[data-v-19ebb32d]{height:%?76?%;line-height:%?76?%;font-size:%?30?%;overflow:hidden}.submit-btn .btn.success[data-v-19ebb32d]{background-color:var(--success);color:#fff}.submit-btn .btn.circle[data-v-19ebb32d]{border-radius:%?100?%}.submit-btn .btn.hover[data-v-19ebb32d]{opacity:.7}\r\n\r\n/* 主体按钮 结束 */\r\n\r\n/* 底部 开始*/.footer[data-v-19ebb32d]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:%?28?%;margin-top:%?80?%;color:rgba(0,0,0,.7);text-align:center;height:%?40?%;line-height:%?40?%}.footer.bottom[data-v-19ebb32d]{position:absolute;bottom:%?100?%;text-align:center;width:100%}.footer .label[data-v-19ebb32d]{display:flex;align-items:center}.footer .center-line[data-v-19ebb32d]{font-size:%?24?%;margin-left:%?15?%;margin-right:%?15?%}.footer .footer-checkbox[data-v-19ebb32d]{-webkit-transform:scale(.7);transform:scale(.7)}.footer .link[data-v-19ebb32d]{color:var(--success)}\r\n\r\n/* 底部 结束*/\r\n\r\n/* 其他登录开始 */.login-icon-title[data-v-19ebb32d]{width:100%;text-align:center;margin-top:%?50?%;color:rgba(0,0,0,.3);font-size:%?24?%}.login-icon-view[data-v-19ebb32d]{width:100%;text-align:center;margin-top:%?30?%;display:flex;justify-content:center}.login-icon-item[data-v-19ebb32d]{width:%?120?%;display:flex;text-align:center;justify-content:center}\r\n\r\n/* 其他登录结束 */\r\n\r\n/* 登录方式切换 开始 */.login-way-change[data-v-19ebb32d]{display:flex;padding:0 %?80?%;align-items:center;height:%?50?%}.login-way-change .login-way-left .checkbox[data-v-19ebb32d]{-webkit-transform:scale(.7);transform:scale(.7)}.login-way-change .login-way-right[data-v-19ebb32d]{flex:1;text-align:right}\r\n\r\n/* 登录方式切换 结束 */\r\n\r\n/* 手机号授权提示 开始 */.auth-tips[data-v-19ebb32d]{font-size:%?24?%;color:#f85959;text-align:center;margin-top:%?40?%;font-weight:700;\r\n\t/* 增加动画抖动，持续2秒，防止用户没看到提示 */-webkit-animation:shake-data-v-19ebb32d 2s;animation:shake-data-v-19ebb32d 2s}@-webkit-keyframes shake-data-v-19ebb32d{0%{-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}50%{-webkit-transform:translateX(10px);transform:translateX(10px)}75%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes shake-data-v-19ebb32d{0%{-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}50%{-webkit-transform:translateX(10px);transform:translateX(10px)}75%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}\r\n\r\n/* 手机号授权提示 结束 */",""]),e.exports=t},e57c:function(e,t,n){"use strict";n.r(t);var a=n("f44f"),i=n("05229");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("a521");var r=n("828b"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"0da60642",null,!1,a["a"],void 0);t["default"]=s.exports},e98f:function(e,t,n){"use strict";n.r(t);var a=n("dcef"),i=n("84fb");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var r=n("828b"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"62ae01f8",null,!1,a["a"],void 0);t["default"]=s.exports},f2be:function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".content[data-v-49adbd1c]{width:100%;background-color:#fff;padding:%?40?%;padding-bottom:%?40?%;padding-bottom:calc(constant(safe-area-inset-bottom) + %?40?%);padding-bottom:calc(env(safe-area-inset-bottom) + %?40?%)}.content .title[data-v-49adbd1c]{font-size:%?34?%;font-weight:700}.content .sub-title[data-v-49adbd1c]{font-size:%?26?%;color:#aaa;margin-top:%?16?%;padding-bottom:%?30?%}.content .avatar-box[data-v-49adbd1c]{width:100%;margin-top:%?30?%;display:flex;align-items:center;justify-content:center}.content .avatar-box .button-shadow[data-v-49adbd1c]{border:%?8?% solid hsla(0,0%,100%,.05);box-shadow:%?0?% %?0?% %?80?% %?0?% rgba(0,0,0,.15);border-radius:50%}.content .avatar-box .avatar-button[data-v-49adbd1c]{position:relative;width:%?160?%;height:%?160?%;border-radius:50%;overflow:visible;background-image:repeating-linear-gradient(45deg,#e4e9ec,#f8f7f8);color:#fff;background-color:initial;padding:0;margin:0;font-size:inherit;line-height:inherit;border:none}.content .avatar-box .avatar-button[data-v-49adbd1c]::after{border:none}.content .avatar-box .avatar-image[data-v-49adbd1c],\n.content .avatar-box .avatar-empty[data-v-49adbd1c]{width:100%;height:100%;border-radius:inherit;display:flex;justify-content:center;align-items:center;color:#000}.content .avatar-box .avatar-image .image[data-v-49adbd1c],\n.content .avatar-box .avatar-empty .image[data-v-49adbd1c]{width:100%;height:100%;border-radius:inherit}.content .avatar-box .avatar-icon[data-v-49adbd1c]{position:absolute;right:%?-10?%;bottom:%?-6?%;width:%?60?%;height:%?60?%;background-color:#1d2541;color:#fff;border-radius:50%;border:%?6?% solid #fff;line-height:1;font-size:%?36?%;display:flex;align-items:center;justify-content:center}.content .input-box[data-v-49adbd1c]{margin-top:%?56?%;width:100%;padding:%?26?% %?20?%;border-radius:%?10?%;background-color:#f8f7f8;display:flex;align-items:center}.content .input-box .label[data-v-49adbd1c]{margin-right:%?20?%;width:%?100?%;text-align:right}.content .input-box .input[data-v-49adbd1c]{flex:1;color:#080808}.content .footer-box[data-v-49adbd1c]{margin-top:%?60?%}.content .footer-box .submit-btn[data-v-49adbd1c]{color:#fff;background-color:#19be6b;font-size:%?30?%;height:%?80?%;line-height:%?80?%}.content .footer-box .submit-btn.disabled[data-v-49adbd1c]{background:#71d5a1!important}",""]),e.exports=t},f44f:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"login-footer footer",class:{bottom:e.bottom}},[n("v-uni-label",{staticClass:"label",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.userAgreement(!e.agreementCom)}}},[n("v-uni-checkbox",{staticClass:"footer-checkbox",attrs:{checked:e.agreementCom,"active-color":"#737373",shape:"circle"}}),n("v-uni-text",[e._v("同意")])],1),n("v-uni-navigator",{staticClass:"link",attrs:{url:"./agreement","open-type":"navigate"}},[e._v("《用户协议》")]),e.register?[n("v-uni-navigator",{staticStyle:{"margin-left":"20rpx"},attrs:{url:"./forget","open-type":"navigate"}},[e._v("找回密码")]),n("v-uni-text",{staticClass:"center-line"},[e._v("|")]),n("v-uni-navigator",{attrs:{url:"./register","open-type":"navigate"}},[e._v("注册账号")])]:e._e()],2)},i=[]},f836:function(e,t,n){"use strict";n.r(t);var a=n("4996"),i=n("77d6");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("abec");var r=n("828b"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"5ffbee3a",null,!1,a["a"],void 0);t["default"]=s.exports},fe24:function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("e57c")),o={name:"login-base",emits:["success","footerClick"],components:{loginFooter:i.default},props:{},data:function(){return{complete:!0,loading:!1,agreement:!1,savePwd:!0,logoImage:"/static/logo.png",loginWay:"pwd",form1:{username:"",password:"",mobile:"",code:""}}},mounted:function(){this.init()},methods:{init:function(){var e=uni.vk,t=e.getVuex("$user.mchInfo.logo");t&&(this.logoImage=t);var n=e.getVuex("$user.login.username"),a=e.getVuex("$user.login.password"),i=e.getVuex("$user.login.savePwd"),o=e.getVuex("$user.login.mobile");n&&(this.form1.username=n),a&&(this.form1.password=a),o&&(this.form1.mobile=o),"boolean"===typeof i&&(this.savePwd=i)},login:function(){var e=this,t=uni.vk,n=this.loginWay,a=(this.form1,this.agreementCom);a?t.pubfn.debounce((function(){"pwd"===n?e.loginByPwd():"sms"===n&&e.loginBySms()}),500):this.agreementLogin(this.login)},loginByPwd:function(){var e=this,t=uni.vk,n=this.form1,a=this.savePwd,i=n.username,o=n.password;i.length<4?t.toast("账号至少4位数"):t.pubfn.checkStr(o,"pwd")?t.userCenter.login({data:{username:i,password:o},success:function(n){a?(t.setVuex("$user.login.username",i),t.setVuex("$user.login.password",o)):t.setVuex("$user.login.password",""),t.setVuex("$user.login.savePwd",a),e.loginSuccess(n)}}):t.toast("密码以字母开头，长度在6~18之间，只能包含字母、数字和下划线")},loginBySms:function(){var e=this,t=uni.vk,n=this.form1,a=n.mobile,i=n.code,o=t.getVuex("$user.inviteCode");t.pubfn.checkStr(a,"mobile")?i?t.userCenter.loginBySms({data:{mobile:a,code:i,type:"login",inviteCode:o},success:function(n){t.setVuex("$user.login.mobile",a),e.loginSuccess(n)}}):t.toast("请输入验证码"):t.toast("手机号格式错误")},codeError:function(e){var t=uni.vk;if(e.notExists){var n=this.form1.mobile;t.navigateTo("./register?mobile=".concat(n))}},agreementLogin:function(e){var t=this,n=uni.vk;n.confirm("是否已查看并同意用户协议内容?","提示","同意","再看看",(function(n){n.confirm&&(t.userAgreement(!0),"function"===typeof e&&e())}))},userAgreement:function(e){var t=uni.vk;t.setVuex("$user.agreement",e)},loginSuccess:function(e,t){this.$emit("success",e,t)}},watch:{},computed:{agreementCom:function(){return uni.vk.getVuex("$user.agreement")}}};t.default=o}}]);