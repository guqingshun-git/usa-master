(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-list"],{"11fc":function(e,t,a){"use strict";a.r(t);var n=a("d83e"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"13bd":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,mode:"form"},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("el-button",{staticStyle:{width:"80px"},attrs:{loading:e.page.btnLoading,size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v("取消")]),a("el-button",{staticStyle:{width:"80px"},attrs:{loading:e.page.btnLoading,type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save.apply(void 0,arguments)}}},[e._v("保存")])]},proxy:!0}]),model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("v-uni-view",{directives:[{name:"loading",rawName:"v-loading",value:e.page.loading,expression:"page.loading"}],staticStyle:{padding:"20px"}},[e.value.show?a("userTagscom",{attrs:{userInfo:e.value.item},model:{value:e.form1.tags,callback:function(t){e.$set(e.form1,"tags",t)},expression:"form1.tags"}}):e._e()],1)],1)},i=[]},"13e4":function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;uni.vk;var i={props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:{}}}}},data:function(){return{page:{title:"积分",submitText:"确定",cancelText:"关闭",showCancel:!0,top:"3vh",width:"500px"},form1:{data:{_id:"",isAdd:!0,updateTotal:!0},props:{action:"admin/sys.user.updateUserIntegral",columns:[{key:"userInfo",title:"用户信息",type:"text"},{key:"",title:"方式",type:"bar-title"},{key:"isAdd",title:"操作方式",type:"radio",data:[{value:!0,label:"增加"},{value:!1,label:"减少"}]},{key:"updateTotal",title:"是否影响累计",type:"radio",data:[{value:!0,label:"影响"},{value:!1,label:"不影响"}]},{key:"value",title:"积分变动数量",type:"number",width:600,tips:"影响用户积分",required:!0},{key:"",title:"备注",type:"bar-title"},{key:"remark",title:"备注",type:"textarea",width:600,autosize:{minRows:4,maxRows:10},maxlength:200,showWordLimit:!0}],rules:{isAdd:[{required:!0,message:"请选择操作方式",trigger:["blur","change"]}],value:[{required:!0,message:"积分数量不能为空",trigger:["blur","change"]}]},labelWidth:"120px"}},userInfo:{}}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=n,t=e.value;n.$emit("input",t)},onOpen:function(){n=this;var e=n.value.item,t=void 0===e?{}:e;n.userInfo={nickname:t.nickname,avatar:t.avatar,balance:t.account_integral.balance},n.form1.data._id=t._id},onClose:function(){},onFormSuccess:function(e){n.value.show=!1,n.value.item.account_integral=e.data.userInfo.account_integral,n.$emit("success")}},watch:{},computed:{}};t.default=i},"14bdb":function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=uni.vk,o={props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:{}}}}},data:function(){return{page:{title:"修改分销等级",submitText:"确定",cancelText:"关闭",showCancel:!0,top:"14vh",width:"500px"},form1:{data:{},props:{action:"admin/sys.user.updateFxLv",columns:[{key:"is_fx",title:"是否是分销员",type:"radio",optionType:"button",data:[{value:1,label:"是"},{value:0,label:"否"}]},{key:"lv",title:"分销等级",type:"select",clearable:!1,data:function(){return i.getVuex("$user.mchInfo.fx.level_rule")},props:{value:"lv",label:"name"},showRule:"is_fx==1"}],rules:{},labelWidth:"100px"}}}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=n,t=e.value;n.$emit("input",t)},onOpen:function(){n=this;var e=n.value.item,t=void 0===e?{}:e;n.form1.data={_id:t._id,is_fx:t.fx.is_fx,lv:t.fx.lv}},onClose:function(){},onFormSuccess:function(){n.$set(n.value.item.fx,"is_fx",n.form1.data.is_fx),n.$set(n.value.item.fx,"lv",n.form1.data.lv),n.value.show=!1,n.$emit("success")}},watch:{},computed:{}};t.default=o},"150c":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("vk-data-table-query",{attrs:{columns:e.queryForm1.columns,"main-columns":["no","title","type","add_type"],size:"mini"},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.queryForm1.formData,callback:function(t){e.$set(e.queryForm1,"formData",t)},expression:"queryForm1.formData"}}),a("vk-data-table",{ref:"table1",attrs:{action:e.table1.action,columns:e.table1.columns,"query-form-param":e.queryForm1,"right-btns":["detail_auto"],selection:!1,"row-no":!0,pagination:!0,size:"mini"},on:{update:function(t){arguments[0]=t=e.$handleEvent(t),e.updateBtn.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteBtn.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.currentChange.apply(void 0,arguments)},"selection-change":function(t){arguments[0]=t=e.$handleEvent(t),e.selectionChange.apply(void 0,arguments)}}})],1)},i=[]},"16bf":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,mode:"form"},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("vk-data-form",{ref:"form1",attrs:{"form-type":e.value.mode,rules:e.form1.props.rules,action:e.form1.props.action,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"show-cancel":e.page.showCancel,"cancel-text":e.page.cancelText,"submit-text":e.page.submitText,"auto-close":!1,"max-height":"82vh"},on:{"update:loading":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form1.props,"loading",t)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.onFormSuccess.apply(void 0,arguments)}},scopedSlots:e._u([{key:"userInfo",fn:function(t){t.form,t.keyName;return[a("v-uni-view",[a("v-uni-view",[a("el-avatar",{attrs:{size:20,src:e.userInfo.avatar}}),a("v-uni-text",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.userInfo.nickname))])],1),a("v-uni-view",[e._v("积分："+e._s(e.userInfo.balance))])],1)]}}]),model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1)},i=[]},"175c":function(e,t,a){"use strict";a.r(t);var n=a("d25e"),i=a("9d40");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"7c2c10ca",null,!1,n["a"],void 0);t["default"]=r.exports},"18f6":function(e,t,a){"use strict";var n=a("6334"),i=a.n(n);i.a},"1b1f":function(e,t,a){"use strict";a.r(t);var n=a("a167"),i=a("5939");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"32b9aa72",null,!1,n["a"],void 0);t["default"]=r.exports},"1bfb":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,mode:"form"},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("vk-data-form",{ref:"form1",attrs:{"form-type":e.value.mode,rules:e.form1.props.rules,action:e.form1.props.action,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"show-cancel":e.page.showCancel,"cancel-text":e.page.cancelText,"submit-text":e.page.submitText},on:{"update:loading":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form1.props,"loading",t)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.onFormSuccess.apply(void 0,arguments)}},model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}},[a("template",{slot:"fx"},[a("vk-data-detail-table",{staticStyle:{"margin-bottom":"20px"},attrs:{data:e.value.item.fx,columns:e.detail.columns,size:"medium","label-width":"150px"}})],1)],2)],1)},i=[]},"1c5c":function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=uni.vk,o=i.getVuex("$app.config.maill.rec.addType"),l={props:{user:{type:Object}},data:function(){return{loading:!1,data:{},table1:{action:"admin/sys.user.getIntegralRecords",columns:[{key:"value",title:"本次变动",type:"html",width:120,defaultValue:"暂无",align:"right",formatter:function(e,t,a,n){var o=i.pubfn.priceFilter(e),l=e>0?"<text>+".concat(o,"</text>"):'<text style="color:#f56c6c">'.concat(o,"</text>");return l}},{key:"balance",title:"当时余额",type:"money",width:120,defaultValue:"暂无"},{key:"title",title:"标题",type:"text",width:150,defaultValue:"暂无",align:"left"},{key:"comment",title:"备注",type:"text",width:150,defaultValue:"暂无",align:"left"},{key:"type",title:"收入/支出",type:"tag",width:120,defaultValue:"暂无",data:[{value:1,label:"收入",tagType:"success"},{value:2,label:"支出",tagType:"danger"}]},{key:"add_type",title:"添加方式",type:"select",width:140,data:o},{key:"no",title:"单号",type:"text",width:220,defaultValue:"暂无"},{key:"_add_time",title:"本条记录时间",type:"time",width:180},{key:"_id",title:"id",type:"text",width:280}],multipleSelection:[],selectItem:""},queryForm1:{formData:{},columns:[{key:"_add_time",title:"添加时间",type:"datetimerange",width:400,mode:"[]"},{key:"min_value",title:"金额范围",type:"money",width:150,placeholder:"请输入最小金额",fieldName:"value",mode:">="},{key:"max_value",title:"-",type:"money",width:150,placeholder:"请输入最大金额",fieldName:"value",mode:"<="},{key:"no",title:"订单号",type:"text",width:150,placeholder:"请输入订单号"},{key:"title",title:"标题",type:"text",width:150,mode:"%%"},{key:"type",title:"类型",type:"select",width:150,placeholder:"请选择交易类型",data:[{value:1,label:"收入"},{value:2,label:"支出"}]},{key:"add_type",title:"添加方式",type:"select",width:150,mode:"=",data:o},{key:"comment",title:"备注",type:"text",width:150,mode:"%%"},{key:"user_id",title:"用户id",type:"text",width:150,mode:"=",show:["none"]}]}}},created:function(){n=this,n.init()},mounted:function(){},methods:{init:function(){n.queryForm1.formData.user_id=n.user._id},pageOpen:function(){n=this;var e=n,t=e.value;e.form1,t.item},pageClose:function(){},pageBack:function(){var e=n,t=e.value;t.show=!1,n.$emit("input",t)},search:function(){n.$refs.table1.query(),n.$emit("refresh")},refresh:function(){n.$refs.table1.refresh(),n.$emit("refresh")},getCurrentRow:function(){return n.$refs.table1.getCurrentRow()},currentChange:function(e){n.selectItem=e,n.showOneBtn=!!e},selectionChange:function(e){n.multipleSelection=e}},watch:{},computed:{}};t.default=l},"1d42":function(e,t,a){var n=a("7f6e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("967d").default;i("3c39a89e",n,!0,{sourceMap:!1,shadowMode:!1})},"1de3":function(e,t,a){"use strict";a.r(t);var n=a("14bdb"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"209b":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,mode:"form"},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("vk-data-form",{ref:"form1",attrs:{"form-type":e.value.mode,rules:e.form1.props.rules,action:e.form1.props.action,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"show-cancel":e.page.showCancel,"cancel-text":e.page.cancelText,"submit-text":e.page.submitText},on:{"update:loading":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form1.props,"loading",t)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.onFormSuccess.apply(void 0,arguments)}},model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1)},i=[]},"21e1":function(e,t,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a("9803")),l=n(a("dd15")),r=n(a("f76c")),u=n(a("4263")),c=n(a("1b1f")),s=uni.vk,d={components:{userBalance:o.default,userIntegral:l.default,userReward:r.default,userWithdrawalWay:u.default,userPerformance:c.default},props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:"",options:"",pageName:""}}}},data:function(){return{pageName:"user-balance",tabs:[{title:"余额明细",name:"user-balance"},{title:"积分明细",name:"user-integral"},{title:"奖励明细",name:"user-reward"},{title:"提现方式列表",name:"user-withdrawal-way"},{title:"业绩明细",name:"user-performance"}],page:{title:"标题",top:"7vh",width:"85%",loading:!1}}},mounted:function(){i=this,i.init()},methods:{init:function(){var e=i,t=e.value;i._input(t)},_input:function(e){i.$emit("input",e)},onOpen:function(){i=this;var e=i,t=e.value,a=void 0===t?{}:t;a.item;i.value.pageName&&(i.pageName=i.value.pageName)},onClose:function(){},open:function(){var e=i,t=e.value;t.show=!0,i._input(t)},close:function(){var e=i,t=e.value;t.show=!1,i._input(t)},refresh:function(){s.callFunction({url:"admin/sys.user.getInfo",loading:{that:i,name:"page.loading"},data:{_id:i.value.item._id},success:function(e){s.pubfn.objectAssign(i.value.item,e.userInfo)}})}},watch:{"value.show":{handler:function(e,t){e?this.onOpen():this.onClose()}}},filters:{},computed:{}};t.default=d},"230f":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,mode:"form"},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("vk-data-form",{ref:"form1",attrs:{"form-type":e.value.mode,rules:e.form1.props.rules,action:e.form1.props.action,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"show-cancel":e.page.showCancel,"cancel-text":e.page.cancelText,"submit-text":e.page.submitText,"auto-close":!1,"max-height":"82vh"},on:{"update:loading":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form1.props,"loading",t)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.onFormSuccess.apply(void 0,arguments)}},scopedSlots:e._u([{key:"userInfo",fn:function(t){t.form,t.keyName;return[a("v-uni-view",[a("v-uni-view",[a("el-avatar",{attrs:{size:20,src:e.userInfo.avatar}}),a("v-uni-text",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.userInfo.nickname))])],1),a("v-uni-view",[e._v("余额："+e._s(e.vk.pubfn.priceFilter(e.userInfo.balance))+" 元")])],1)]}}]),model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1)},i=[]},"261e":function(e,t,a){"use strict";a.r(t);var n=a("86a3"),i=a("3f51");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"edaf37aa",null,!1,n["a"],void 0);t["default"]=r.exports},2936:function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fd3c"),a("dd2b"),a("aa9c");var i={props:{value:{type:Array,default:function(){return[]}},userInfo:{type:Object,default:function(){return{}}}},data:function(){return{page:{title:"标签",submitText:"关闭",top:"7vh",width:"600px",loading:!1,btnLoading:!1},inputVisible:!1,inputValue:"",form1:{tags:[]},myTags:[]}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=this.userInfo;vk.callFunction({url:"admin/sys.user.getTagList",loading:{that:n,name:"page.loading"},data:{pageIndex:1,pageSize:100},success:function(t){var a=t.rows,i=e.tags,o=void 0===i?[]:i;o.map((function(e,t){var n=vk.pubfn.getListIndex(a,"_id",e);n>-1&&(a[n].checked=!0)})),n.myTags=a}})},_input:function(e){n.$emit("input",e)},deleteTag:function(e,t){n.$confirm("此操作将从所有用户中删除此标签, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.myTags.splice(e,1),vk.callFunction({url:"admin/sys.user.delTag",loading:{that:n,name:"page.btnLoading"},data:{_id:t},success:function(e){}})})).catch((function(){}))},tagClick:function(e){n.$set(n.myTags[e],"checked",!n.myTags[e].checked);var t=[];n.myTags.map((function(e){e.checked&&e._id&&t.push(e._id)})),n._input(t)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},addTag:function(){var e=this.inputValue;if(e){if(vk.pubfn.getListIndex(n.myTags,"name",e)>-1)return n.$message.error("标签名称不可重复。"),!1;vk.callFunction({url:"admin/sys.user.addTag",loading:{that:n,name:"page.btnLoading"},data:{name:e},success:function(t){n.myTags.push({_id:t._id,name:e,checked:!1})}})}this.inputVisible=!1,this.inputValue=""}},watch:{},computed:{}};t.default=i},"2dac":function(e,t,a){"use strict";a.r(t);var n=a("eaac"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"2e4d":function(e,t,a){var n=a("c86c");t=n(!1),t.push([e.i,"",""]),e.exports=t},"36d9":function(e,t,a){"use strict";a.r(t);var n=a("13bd"),i=a("b817");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("18f6");var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"f41ce2d0",null,!1,n["a"],void 0);t["default"]=r.exports},"3aeb":function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=uni.vk,o=i.getVuex("$app.config.maill.rec.addType"),l={props:{user:{type:Object}},data:function(){return{loading:!1,data:{},table1:{action:"admin/sys.user.getBalanceRecords",columns:[{key:"value",title:"本次变动",type:"html",width:120,defaultValue:"暂无",align:"right",formatter:function(e,t,a,n){var o=i.pubfn.priceFilter(e),l=e>0?"<text>+".concat(o,"</text>"):'<text style="color:#f56c6c">'.concat(o,"</text>");return l}},{key:"balance",title:"当时余额",type:"money",width:120,defaultValue:"暂无"},{key:"title",title:"标题",type:"text",width:150,defaultValue:"暂无",align:"left"},{key:"comment",title:"备注",type:"text",width:150,defaultValue:"暂无",align:"left"},{key:"type",title:"收入/支出",type:"tag",width:120,defaultValue:"暂无",data:[{value:1,label:"收入",tagType:"success"},{value:2,label:"支出",tagType:"danger"}]},{key:"add_type",title:"添加方式",type:"select",width:140,data:o},{key:"no",title:"单号",type:"text",width:220,defaultValue:"暂无"},{key:"_add_time",title:"本条记录时间",type:"time",width:180},{key:"_id",title:"id",type:"text",width:280}],multipleSelection:[],selectItem:""},queryForm1:{formData:{},columns:[{key:"_add_time",title:"添加时间",type:"datetimerange",width:400,mode:"[]"},{key:"min_value",title:"金额范围",type:"money",width:150,placeholder:"请输入最小金额",fieldName:"value",mode:">="},{key:"max_value",title:"-",type:"money",width:150,placeholder:"请输入最大金额",fieldName:"value",mode:"<="},{key:"no",title:"订单号",type:"text",width:150,placeholder:"请输入订单号"},{key:"title",title:"标题",type:"text",width:150,mode:"%%"},{key:"type",title:"类型",type:"select",width:150,placeholder:"请选择交易类型",data:[{value:1,label:"收入"},{value:2,label:"支出"}]},{key:"add_type",title:"添加方式",type:"select",width:150,mode:"=",data:o},{key:"comment",title:"备注",type:"text",width:150,mode:"%%"},{key:"user_id",title:"用户id",type:"text",width:150,mode:"=",show:["none"]}]}}},created:function(){n=this,n.init()},mounted:function(){},methods:{init:function(){n.queryForm1.formData.user_id=n.user._id},pageOpen:function(){n=this;var e=n,t=e.value;e.form1,t.item},pageClose:function(){},pageBack:function(){var e=n,t=e.value;t.show=!1,n.$emit("input",t)},search:function(){n.$refs.table1.query(),n.$emit("refresh")},refresh:function(){n.$refs.table1.refresh(),n.$emit("refresh")},getCurrentRow:function(){return n.$refs.table1.getCurrentRow()},currentChange:function(e){n.selectItem=e,n.showOneBtn=!!e},selectionChange:function(e){n.multipleSelection=e}},watch:{},computed:{}};t.default=l},"3edf":function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=uni.vk,o={props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:{}}}}},data:function(){return{page:{title:"设为核销员",submitText:"确定",cancelText:"关闭",showCancel:!0,top:"7vh",width:"600px"},form1:{data:{},props:{action:"admin/sys.user.updateUserBaseInfo",columns:[{key:"is_verify_staff",title:"设为核销员",type:"switch",activeValue:1,inactiveValue:0}],rules:{},labelWidth:"100px"}}}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=n,t=e.value;n.$emit("input",t)},onOpen:function(){n=this;var e=n.value.item,t=void 0===e?{}:e;n.form1.data={_id:t._id,is_verify_staff:t.is_verify_staff}},onClose:function(){},onFormSuccess:function(){n.value.show=!1,i.pubfn.objectAssignForVue(n.value.item,n.form1.data,n),n.$emit("success")}},watch:{},computed:{}};t.default=o},"3f51":function(e,t,a){"use strict";a.r(t);var n=a("c9a4"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},4263:function(e,t,a){"use strict";a.r(t);var n=a("a90b"),i=a("7f2a");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"6779c727",null,!1,n["a"],void 0);t["default"]=r.exports},"42ae":function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;uni.vk;var i={props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:{}}}}},data:function(){return{page:{title:"余额",submitText:"确定",cancelText:"关闭",showCancel:!0,top:"3vh",width:"500px"},form1:{data:{_id:"",isAdd:!0,updateTotal:!0},props:{action:"admin/sys.user.updateUserBalance",columns:[{key:"userInfo",title:"用户信息",type:"text"},{key:"",title:"方式",type:"bar-title"},{key:"isAdd",title:"操作方式",type:"radio",data:[{value:!0,label:"增加"},{value:!1,label:"减少"}]},{key:"updateTotal",title:"是否影响累计",type:"radio",data:[{value:!0,label:"影响"},{value:!1,label:"不影响"}]},{key:"value",title:"余额变动数量",type:"money",width:600,tips:"影响用户余额",required:!0},{key:"",title:"备注",type:"bar-title"},{key:"remark",title:"备注",type:"textarea",width:600,autosize:{minRows:4,maxRows:10},maxlength:200,showWordLimit:!0}],rules:{isAdd:[{required:!0,message:"请选择操作方式",trigger:["blur","change"]}],value:[{required:!0,message:"余额数量不能为空",trigger:["blur","change"]}]},labelWidth:"120px"}},userInfo:{}}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=n,t=e.value;n.$emit("input",t)},onOpen:function(){n=this;var e=n.value.item,t=void 0===e?{}:e;n.userInfo={nickname:t.nickname,avatar:t.avatar,balance:t.account_balance.balance},n.form1.data._id=t._id},onClose:function(){},onFormSuccess:function(e){n.value.show=!1,n.value.item.account_balance=e.data.userInfo.account_balance,n.$emit("success")}},watch:{},computed:{}};t.default=i},4728:function(e,t,a){"use strict";a.r(t);var n=a("209b"),i=a("1de3");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"636de59d",null,!1,n["a"],void 0);t["default"]=r.exports},5197:function(e,t,a){"use strict";a.r(t);var n=a("1bfb"),i=a("6811");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"69e6d91f",null,!1,n["a"],void 0);t["default"]=r.exports},53308:function(e,t,a){"use strict";a.r(t);var n=a("230f"),i=a("9704");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"4dfcad5f",null,!1,n["a"],void 0);t["default"]=r.exports},"57bc":function(e,t,a){"use strict";a.r(t);var n=a("21e1"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},5939:function(e,t,a){"use strict";a.r(t);var n=a("7f23"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},6334:function(e,t,a){var n=a("9129");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("967d").default;i("68811006",n,!0,{sourceMap:!1,shadowMode:!1})},6500:function(e,t,a){"use strict";a.r(t);var n=a("13e4"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},6811:function(e,t,a){"use strict";a.r(t);var n=a("ffee"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"6b39":function(e,t,a){"use strict";a.r(t);var n=a("b440"),i=a("57bc");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"52d51da6",null,!1,n["a"],void 0);t["default"]=r.exports},"77be":function(e,t,a){"use strict";var n=a("1d42"),i=a.n(n);i.a},"78ba":function(e,t,a){"use strict";a.r(t);var n=a("b2f4"),i=a("2dac");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("d54a");var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"36792c7a",null,!1,n["a"],void 0);t["default"]=r.exports},"7bd3":function(e,t,a){"use strict";a.r(t);var n=a("acf0"),i=a("a0ce");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"5f19efd6",null,!1,n["a"],void 0);t["default"]=r.exports},"7d99":function(e,t,a){"use strict";a.r(t);var n=a("a54a"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"7da1":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("vk-data-table-query",{attrs:{columns:e.queryForm1.columns,"main-columns":["no","title","type","add_type"],size:"mini"},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.queryForm1.formData,callback:function(t){e.$set(e.queryForm1,"formData",t)},expression:"queryForm1.formData"}}),a("vk-data-table",{ref:"table1",attrs:{action:e.table1.action,columns:e.table1.columns,"query-form-param":e.queryForm1,"right-btns":["detail_auto"],selection:!1,"row-no":!0,pagination:!0,size:"mini"},on:{update:function(t){arguments[0]=t=e.$handleEvent(t),e.updateBtn.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteBtn.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.currentChange.apply(void 0,arguments)},"selection-change":function(t){arguments[0]=t=e.$handleEvent(t),e.selectionChange.apply(void 0,arguments)}}})],1)},i=[]},"7e3f":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,mode:"form"},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("vk-data-form",{ref:"form1",attrs:{"form-type":e.value.mode,rules:e.form1.props.rules,action:e.form1.props.action,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"show-cancel":e.page.showCancel,"cancel-text":e.page.cancelText,"submit-text":e.page.submitText},on:{"update:loading":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form1.props,"loading",t)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.onFormSuccess.apply(void 0,arguments)}},model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1)},i=[]},"7f23":function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=uni.vk,o=(i.getVuex("$app.config.maill.rec.addType"),{props:{user:{type:Object}},data:function(){return{loading:!1,data:{},table1:{action:"admin/sys.user.getUserGoodsPer",columns:[{key:"nickname",title:"用户昵称",type:"text",width:160,defaultValue:"暂无"},{key:"title",title:"标题",type:"text",width:260,defaultValue:"-"},{key:"amount.goods_payment_amount",title:"出货业绩",type:"money",width:120,defaultValue:"-"},{key:"amount.refund_goods_payment_amount",title:"退货业绩",type:"money",width:120,defaultValue:"-"},{key:"goods_name",title:"商品名称",type:"text",width:150,defaultValue:"-",formatter:function(e,t,a,n){var i=e;return t.sku_name&&(i+="（".concat(t.sku_name,"）")),i}},{key:"buy_num",title:"购买数量",type:"number",width:80,defaultValue:"-"},{key:"refund_num",title:"退款数量",type:"number",width:80,defaultValue:"-"},{key:"no",title:"单号",type:"text",width:250,defaultValue:"暂无"},{key:"_add_time",title:"本条记录时间",type:"time",width:180},{key:"_id",title:"id",type:"text",width:280}],multipleSelection:[],selectItem:""},queryForm1:{formData:{},columns:[{key:"min_goods_payment_amount",title:"出货业绩范围",type:"money",width:140,placeholder:"请输入最小金额",fieldName:"amount.goods_payment_amount",mode:">="},{key:"max_goods_payment_amount",title:"-",type:"money",width:140,placeholder:"请输入最大金额",fieldName:"amount.goods_payment_amount",mode:"<="},{key:"no",title:"订单号",type:"text",width:200,placeholder:"请输入订单号"},{key:"title",title:"标题",type:"text",width:200,mode:"%%"},{key:"_add_time",title:"添加时间",type:"datetimerange",width:340,mode:"[]"}]}}},created:function(){n=this,n.init()},mounted:function(){},methods:{init:function(){n.queryForm1.formData.user_id=n.user._id},pageOpen:function(){n=this;var e=n,t=e.value;e.form1,t.item},pageClose:function(){},pageBack:function(){var e=n,t=e.value;t.show=!1,n.$emit("input",t)},search:function(){n.$refs.table1.query(),n.$emit("refresh")},refresh:function(){n.$refs.table1.refresh(),n.$emit("refresh")},getCurrentRow:function(){return n.$refs.table1.getCurrentRow()},currentChange:function(e){n.selectItem=e,n.showOneBtn=!!e},selectionChange:function(e){n.multipleSelection=e}},watch:{},filters:{},computed:{}});t.default=o},"7f2a":function(e,t,a){"use strict";a.r(t);var n=a("8bbd"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"7f6e":function(e,t,a){var n=a("c86c");t=n(!1),t.push([e.i,".el-tag[data-v-2b7d7963]{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:5px}.input-new-tag[data-v-2b7d7963]{margin:5px;width:90px;vertical-align:bottom}.button-new-tag[data-v-2b7d7963]{margin:5px;height:32px;line-height:32px;padding-top:0;padding-bottom:0}",""]),e.exports=t},"80ce":function(e,t,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a("ad2c")),l=uni.vk,r={components:{userTagscom:o.default},props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:"",options:""}}}},data:function(){return{page:{title:"标签",submitText:"关闭",top:"7vh",width:"600px",loading:!1,btnLoading:!1},form1:{tags:[]}}},mounted:function(){i=this,i.init()},methods:{init:function(){var e=i,t=e.value;i._input(t)},_input:function(e){i.$emit("input",e)},onOpen:function(){i=this},onClose:function(){},open:function(){var e=i,t=e.value;t.show=!0,i._input(t)},close:function(){var e=i,t=e.value;t.show=!1,i._input(t)},save:function(){l.callFunction({url:"admin/sys.user.updateUserTag",loading:{that:i,name:"page.btnLoading"},data:{_id:i.value.item._id,tags:i.form1.tags},success:function(e){i.$emit("success"),i.close()}})}},watch:{},computed:{}};t.default=r},"817e":function(e,t,a){"use strict";a.r(t);var n=a("a534"),i=a("7d99");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"7fd43bd8",null,!1,n["a"],void 0);t["default"]=r.exports},"86a3":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var n={vkDataQrcode:a("a365").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,center:!0},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("el-button",{staticStyle:{width:"80px"},attrs:{loading:e.page.loading,type:"primary",size:"medium"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v(e._s(e.page.submitText))])]},proxy:!0}]),model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("v-uni-view",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","flex-flow":"column"}},[a("v-uni-view",[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-radio-button",{attrs:{label:"微信小程序推广码"}}),a("el-radio-button",{attrs:{label:"h5推广码"}})],1)],1),(e.value.qrcode||e.value.url)&&e.value.show?a("v-uni-view",{staticStyle:{"margin-top":"20px"}},["微信小程序推广码"===e.activeName?[e.value.qrcode?a("v-uni-image",{staticStyle:{width:"300px"},attrs:{src:e.value.qrcode,mode:"widthFix"}}):a("v-uni-text",[e._v("未配置微信小程序")])]:"h5推广码"===e.activeName?a("vk-data-qrcode",{attrs:{text:e.value.url,size:400}}):e._e()],2):e._e()],1)],1)},o=[]},"888a":function(e,t,a){var n=a("2e4d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("967d").default;i("5e897651",n,!0,{sourceMap:!1,shadowMode:!1})},"8bbd":function(e,t,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a("9b1b")),l=uni.vk,r={props:{user:{type:Object}},data:function(){return{loading:!1,data:{},table1:{action:"admin/sys.user.getUserWithdrawalWay",columns:[{key:"type",title:"提现方式",type:"tag",width:120,data:[{value:1,label:"支付宝",tagType:""},{value:2,label:"微信",tagType:"success"},{value:3,label:"银行卡",tagType:"danger"}]},{key:"account_no",title:"提现账户",type:"text",width:200},{key:"name",title:"提现人姓名",type:"text",width:120},{key:"mobile",title:"提现人手机号",type:"text",width:120},{key:"bank_name",title:"银行名称",type:"text",width:120},{key:"bank_open",title:"开户行",type:"text",width:150},{key:"is_default",title:"是否默认",type:"tag",width:90,defaultValue:!1,data:[{value:!0,label:"是",tagType:"success"},{value:!1,label:"否",tagType:"danger"}]},{key:"verified",title:"通过验证",type:"tag",width:90,defaultValue:!1,data:[{value:!0,label:"是",tagType:"success"},{value:!1,label:"否",tagType:"danger"}]},{key:"comment",title:"用户备注",type:"text",width:220},{key:"_add_time",title:"添加时间",type:"time",width:180},{key:"_id",title:"id",type:"text",width:280}],multipleSelection:[],selectItem:""},queryForm1:{formData:{},columns:[{key:"name",title:"提现人姓名",type:"text",width:200,mode:"%%"},{key:"mobile",title:"提现人手机",type:"text",width:200,mode:"%%"},{key:"_add_time",title:"添加时间",type:"datetimerange",width:320,mode:"[]"},{key:"user_id",title:"用户id",type:"text",width:150,mode:"=",show:["none"]}]},form1:{_id:"",type:1},formData1:{action:"",columns:[{key:"type",title:"提现方式",type:"radio",optionType:"button",data:[{value:1,label:"支付宝"}]},{key:"account_no",title:"提现账户",type:"text"},{key:"name",title:"提现人姓名",type:"text"},{key:"mobile",title:"提现人手机号",type:"text"},{key:"is_default",title:"是否默认",type:"switch",activeValue:!0,inactiveValue:!1}],rules:{type:[{required:!0,message:"提现方式不能为空",trigger:["blur","change"]}],account_no:[{required:!0,message:"提现账户不能为空",trigger:["blur","change"]}],name:[{required:!0,message:"提现人姓名不能为空",trigger:["blur","change"]}],mobile:[{required:!0,message:"提现人手机号不能为空",trigger:["blur","change"]},{validator:l.pubfn.validator("mobile"),message:"手机号格式错误",trigger:["blur","change"]}]},formType:"",show:!1}}},created:function(){i=this,i.init()},mounted:function(){},methods:{init:function(){i.queryForm1.formData.user_id=i.user._id},pageOpen:function(){i=this;var e=i,t=e.value;e.form1,t.item},pageClose:function(){},pageBack:function(){var e=i,t=e.value;t.show=!1,i.$emit("input",t)},search:function(){i.$refs.table1.query()},refresh:function(){i.$refs.table1.refresh()},getCurrentRow:function(){return i.$refs.table1.getCurrentRow()},currentChange:function(e){i.table1.selectItem=e},selectionChange:function(e){i.table1.multipleSelection=e},addBtn:function(){i.form1={user_id:i.user._id,type:1,mode:"add"},i.formData1.action="admin/sys.user.editWithdrawalWay",i.formData1.formType="add",i.formData1.title="添加",i.formData1.show=!0},updateBtn:function(e){var t=e.item;i.formData1.action="admin/sys.user.editWithdrawalWay",i.formData1.formType="update",i.formData1.title="编辑",i.formData1.show=!0,i.form1=(0,o.default)((0,o.default)({},t),{},{mode:"update"})},deleteBtn:function(e){var t=e.item,a=e.deleteFn;a({action:"admin/sys.user.deleteUserWithdrawalWay",data:{_id:t._id}})}},watch:{},computed:{}};t.default=r},9129:function(e,t,a){var n=a("c86c");t=n(!1),t.push([e.i,".el-tag[data-v-f41ce2d0]{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.el-tag + .el-tag[data-v-f41ce2d0]{margin-left:10px}.button-new-tag[data-v-f41ce2d0]{margin-left:10px;height:32px;line-height:30px;padding-top:0;padding-bottom:0}.input-new-tag[data-v-f41ce2d0]{width:90px;margin-left:10px;vertical-align:bottom}",""]),e.exports=t},9704:function(e,t,a){"use strict";a.r(t);var n=a("42ae"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},9803:function(e,t,a){"use strict";a.r(t);var n=a("7da1"),i=a("b7a7");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"29d4c5a1",null,!1,n["a"],void 0);t["default"]=r.exports},"9d40":function(e,t,a){"use strict";a.r(t);var n=a("3edf"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"9fb9":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{directives:[{name:"loading",rawName:"v-loading",value:e.page.loading,expression:"page.loading"}],staticStyle:{padding:"20px"}},[e._l(e.myTags,(function(t,n){return a("el-tag",{key:t.name,attrs:{closable:!0,"disable-transitions":!1,effect:t.checked?"dark":"plain"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tagClick(n)},close:function(a){arguments[0]=a=e.$handleEvent(a),e.deleteTag(n,t._id)}}},[e._v(e._s(t.name))])})),e.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.addTag.apply(void 0,arguments)}},nativeOn:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;arguments[0]=t=e.$handleEvent(t),e.addTag.apply(void 0,arguments)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"mini",type:"primary",plain:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showInput.apply(void 0,arguments)}}},[e._v("+ 新增标签")]),a("v-uni-view",{staticStyle:{"margin-top":"10px",color:"#999999"}},[e._v("提示：添加标签后，需要选中该标签才能给用户打上标签。")])],2)],1)},i=[]},a0ce:function(e,t,a){"use strict";a.r(t);var n=a("ef85"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},a167:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("vk-data-table-query",{attrs:{columns:e.queryForm1.columns,"main-columns":["no","title","_add_time"],size:"mini"},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.queryForm1.formData,callback:function(t){e.$set(e.queryForm1,"formData",t)},expression:"queryForm1.formData"}}),a("vk-data-table",{ref:"table1",attrs:{action:e.table1.action,columns:e.table1.columns,"query-form-param":e.queryForm1,"right-btns":["detail_auto"],selection:!1,"row-no":!0,pagination:!0,size:"mini"},on:{update:function(t){arguments[0]=t=e.$handleEvent(t),e.updateBtn.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteBtn.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.currentChange.apply(void 0,arguments)},"selection-change":function(t){arguments[0]=t=e.$handleEvent(t),e.selectionChange.apply(void 0,arguments)}}})],1)},i=[]},a534:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,mode:"form"},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("vk-data-form",{ref:"form1",attrs:{"form-type":e.value.mode,rules:e.form1.props.rules,action:e.form1.props.action,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"show-cancel":e.page.showCancel,"cancel-text":e.page.cancelText,"submit-text":e.page.submitText,"auto-close":!1},on:{"update:loading":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form1.props,"loading",t)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.onFormSuccess.apply(void 0,arguments)}},scopedSlots:e._u([{key:"userInfo",fn:function(t){t.form,t.keyName;return[a("v-uni-view",[a("v-uni-view",[a("el-avatar",{attrs:{size:20,src:e.userInfo.avatar}}),a("v-uni-text",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.userInfo.nickname))])],1),a("v-uni-view",[e._v("余额："+e._s(e.vk.pubfn.priceFilter(e.userInfo.balance))+" 元")])],1)]}}]),model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1)},i=[]},a54a:function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fd3c"),a("7a76"),a("c9b5");var i=uni.vk,o={props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:{}}}}},data:function(){return{page:{title:"余额转账",submitText:"确定",cancelText:"关闭",showCancel:!0,top:"7vh",width:"500px"},form1:{data:{_id:"",user_id:""},props:{action:"admin/sys.user.balanceTransfer",columns:[{key:"userInfo",title:"用户信息",type:"text"},{key:"",title:"转账人信息",type:"bar-title"},{key:"user_id",title:"选择转账用户",type:"table-select",placeholder:"请选择转账用户",dialogWidth:900,pageSize:10,action:"admin/sys.user.getList",columns:[{key:"_id",title:"用户id",type:"text",idKey:!0,show:["none"]},{key:"avatar",title:"头像",type:"image",width:80},{key:"nickname",title:"用户昵称",type:"text",minWidth:200,align:"left",nameKey:!0},{key:"account_balance.balance",title:"余额",type:"money",width:120},{key:"mobile",title:"手机号",type:"text",width:140},{key:"tagList",title:"标签",type:"text",minWidth:160,formatter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="";return e.map((function(e,a){t+=e.name+"、"})),t=t?t.substring(0,t.length-1):"-",t}}],queryColumns:[{key:"nickname",title:"用户昵称",type:"text",width:200,mode:"%%"},{key:"mobile",title:"手机号",type:"text",width:200,mode:"%%"}],formData:{nickname:""},onChange:function(e,t,a,i,o){n.$set(t,"zz_nickname",o.nickname)}},{key:"value",title:"转账余额",type:"money"},{key:"remark",title:"转账备注",type:"textarea",autosize:{minRows:4,maxRows:10},maxlength:99,showWordLimit:!0}],rules:{user_id:[{required:!0,message:"转账对象不能为空",trigger:["blur","change"]}],value:[{required:!0,message:"转账余额不能为空",trigger:["blur","change"]},{validator:function(e,t,a){t>n.userInfo.balance?a(new Error("余额不足，最大为 ".concat(i.pubfn.priceFilter(n.userInfo.balance)))):a()},trigger:["blur","change"]}]},labelWidth:"120px"}},userInfo:{}}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=n,t=e.value;n.$emit("input",t)},onOpen:function(){n=this;var e=n.value.item,t=void 0===e?{}:e;n.userInfo={nickname:t.nickname,avatar:t.avatar,balance:t.account_balance.balance},n.form1.data._id=t._id},onClose:function(){},onFormSuccess:function(e){n.value.show=!1,n.$emit("success")}},watch:{},computed:{}};t.default=o},a88c:function(e,t,a){"use strict";a.r(t);var n=a("1c5c"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},a90b:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("vk-data-table-query",{attrs:{columns:e.queryForm1.columns,size:"mini"},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.queryForm1.formData,callback:function(t){e.$set(e.queryForm1,"formData",t)},expression:"queryForm1.formData"}}),a("v-uni-view",[a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addBtn.apply(void 0,arguments)}}},[e._v("添加")])],1),a("vk-data-table",{ref:"table1",attrs:{action:e.table1.action,columns:e.table1.columns,"query-form-param":e.queryForm1,"right-btns":["detail_auto","update","delete"],selection:!1,"row-no":!0,pagination:!0,size:"mini"},on:{update:function(t){arguments[0]=t=e.$handleEvent(t),e.updateBtn.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteBtn.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.currentChange.apply(void 0,arguments)},"selection-change":function(t){arguments[0]=t=e.$handleEvent(t),e.selectionChange.apply(void 0,arguments)}}}),a("vk-data-dialog",{attrs:{title:e.formData1.title,width:"500px",center:!0,"close-on-click-modal":!0},model:{value:e.formData1.show,callback:function(t){e.$set(e.formData1,"show",t)},expression:"formData1.show"}},[a("vk-data-form",{attrs:{rules:e.formData1.rules,action:e.formData1.action,"form-type":e.formData1.formType,columns:e.formData1.columns,"label-width":"120px"},on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.formData1.show=!1,e.refresh()}},model:{value:e.form1,callback:function(t){e.form1=t},expression:"form1"}})],1)],1)},i=[]},acf0:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,mode:"form"},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("vk-data-form",{ref:"form1",attrs:{"form-type":e.value.mode,rules:e.form1.props.rules,action:e.form1.props.action,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"show-cancel":e.page.showCancel,"cancel-text":e.page.cancelText,"submit-text":e.page.submitText},on:{"update:loading":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form1.props,"loading",t)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.onFormSuccess.apply(void 0,arguments)}},model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1)},i=[]},ad2c:function(e,t,a){"use strict";a.r(t);var n=a("9fb9"),i=a("fe35");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("77be");var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"2b7d7963",null,!1,n["a"],void 0);t["default"]=r.exports},b2f4:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page-body"},[a("vk-data-table-query",{attrs:{columns:e.queryForm1.columns,size:"mini","main-columns":["is_fx","vip_lv","fx_lv","nickname","mobile","_id","inviter_uid","comment","vip_code"]},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.queryForm1.formData,callback:function(t){e.$set(e.queryForm1,"formData",t)},expression:"queryForm1.formData"}},[a("template",{slot:"right-btns"},[a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.applyQRcode("888888")}}},[e._v("显示平台推广码")]),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addBtn.apply(void 0,arguments)}}},[e._v("添加师傅")])],1)],2),a("vk-data-table",{ref:"table1",attrs:{action:e.table1.action,columns:e.table1.columns,"query-form-param":e.queryForm1,"right-btns":["detail_auto","update","more"],"right-btns-more":e.table1.rightBtnsMore,selection:!1,"row-no":!0,pagination:!0,"custom-right-btns":e.table1.customRightBtns,size:"mini"},on:{update:function(t){arguments[0]=t=e.$handleEvent(t),e.updateBtn.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.currentChange.apply(void 0,arguments)},"selection-change":function(t){arguments[0]=t=e.$handleEvent(t),e.selectionChange.apply(void 0,arguments)}},scopedSlots:e._u([{key:"btn1",fn:function(t){var n=t.row;t.column,t.index;return[a("v-uni-view",[n.inviter_uid&&n.inviter_uid[0]?a("v-uni-view",[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.querySj(n.inviter_uid[0])}}},[e._v("查看上级")])],1):e._e(),n._id?a("v-uni-view",[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.queryXj(n._id)}}},[e._v("查看下级")])],1):e._e()],1)]}}])}),a("vk-data-dialog",{attrs:{title:e.form1.props.title,width:"800px",mode:"form","close-on-click-modal":!1},model:{value:e.form1.props.show,callback:function(t){e.$set(e.form1.props,"show",t)},expression:"form1.props.show"}},[a("vk-data-form",{attrs:{rules:e.form1.props.rules,action:e.form1.props.action,"form-type":e.form1.props.formType,columns:e.form1.props.columns,"label-width":"100px"},on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.form1.props.show=!1,e.refresh()}},scopedSlots:e._u([{key:"tags",fn:function(t){var n=t.form,i=t.keyName;return[a("v-uni-view",[a("userTagscom",{attrs:{userInfo:n},model:{value:n[i],callback:function(t){e.$set(n,i,t)},expression:"form[keyName]"}})],1)]}}]),model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1),a("userRecords",{on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.refresh.apply(void 0,arguments)}},model:{value:e.formDatas.userRecords,callback:function(t){e.$set(e.formDatas,"userRecords",t)},expression:"formDatas.userRecords"}}),a("examineSalesman",{model:{value:e.formDatas.examineSalesman,callback:function(t){e.$set(e.formDatas,"examineSalesman",t)},expression:"formDatas.examineSalesman"}}),a("updateInviter",{on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.refresh.apply(void 0,arguments)}},model:{value:e.formDatas.updateInviter,callback:function(t){e.$set(e.formDatas,"updateInviter",t)},expression:"formDatas.updateInviter"}}),a("userTags",{on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.refresh.apply(void 0,arguments)}},model:{value:e.formDatas.userTags,callback:function(t){e.$set(e.formDatas,"userTags",t)},expression:"formDatas.userTags"}}),a("isServiceStaff",{model:{value:e.formDatas.isServiceStaff,callback:function(t){e.$set(e.formDatas,"isServiceStaff",t)},expression:"formDatas.isServiceStaff"}}),a("isVerifyStaff",{model:{value:e.formDatas.isVerifyStaff,callback:function(t){e.$set(e.formDatas,"isVerifyStaff",t)},expression:"formDatas.isVerifyStaff"}}),a("applyqrcode",{model:{value:e.formDatas.applyqrcode,callback:function(t){e.$set(e.formDatas,"applyqrcode",t)},expression:"formDatas.applyqrcode"}}),a("updateFxLv",{model:{value:e.formDatas.updateFxLv,callback:function(t){e.$set(e.formDatas,"updateFxLv",t)},expression:"formDatas.updateFxLv"}}),a("balance",{model:{value:e.formDatas.balance,callback:function(t){e.$set(e.formDatas,"balance",t)},expression:"formDatas.balance"}}),a("integral",{model:{value:e.formDatas.integral,callback:function(t){e.$set(e.formDatas,"integral",t)},expression:"formDatas.integral"}}),a("balanceTransfer",{on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.refresh.apply(void 0,arguments)}},model:{value:e.formDatas.balanceTransfer,callback:function(t){e.$set(e.formDatas,"balanceTransfer",t)},expression:"formDatas.balanceTransfer"}})],1)},i=[]},b440:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-drawer",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"show-header":!1},model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[e.value.item&&e.value.show?a("v-uni-view",{staticStyle:{padding:"15px"}},[a("v-uni-view",{directives:[{name:"loading",rawName:"v-loading",value:e.page.loading,expression:"page.loading"}],staticStyle:{position:"relative",height:"120px",overflow:"hidden",color:"#515a6e",display:"flex"}},[a("v-uni-view",{staticStyle:{flex:"1",display:"flex","align-items":"center"}},[a("v-uni-view",{staticStyle:{"text-align":"center",margin:"0 40px"}},[a("el-image",{staticStyle:{width:"80px",height:"80px","border-radius":"50%"},attrs:{src:e.value.item.avatar}})],1),a("v-uni-view",{staticStyle:{flex:"1","font-size":"14px",color:"#8a8a8a",display:"grid","grid-template-columns":"1fr 1fr 1fr 1fr 1fr","grid-gap":"20px 0px"}},[a("v-uni-view",[e._v("用户昵称："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.value.item.nickname))])],1),a("v-uni-view",[e._v("商家备注："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.value.item.comment))])],1),a("v-uni-view",[e._v("用户手机："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.value.item.mobile))])],1),a("v-uni-view",[e._v("上级昵称："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.$getData(e.value.item,"inviterUserInfo.nickname","无")))])],1),a("v-uni-view",[e._v("注册时间："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.vk.pubfn.dateDiff(e.value.item.register_date,"")))])],1),a("v-uni-view",[e._v("会员等级："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.value.item.vip_lv))])],1),a("v-uni-view",[e._v("分销等级："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.$getData(e.value.item,"fx.lv","无")))])],1),a("v-uni-view",[e._v("在途奖励："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.vk.pubfn.priceFilter(e.$getData(e.value.item,"account_reward.wait",0))))])],1),a("v-uni-view",[e._v("可提奖励："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.vk.pubfn.priceFilter(e.$getData(e.value.item,"account_reward.allow",0))))])],1),a("v-uni-view",[e._v("已提奖励："),a("v-uni-text",{staticStyle:{color:"#000000"}},[e._v(e._s(e.vk.pubfn.priceFilter(e.$getData(e.value.item,"account_reward.success",0))))])],1),e.value.item.fx.role&&e.value.item.fx.role.length>0?a("v-uni-view",[e._v("身份："),e.value.item.fx.role.indexOf("region")>-1?a("el-tag",{attrs:{size:"mini"}},[e._v("区域代理")]):e._e(),e.value.item.fx.role.indexOf("shareholder")>-1?a("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"danger"}},[e._v("商城股东")]):e._e()],1):e._e()],1)],1),a("vk-data-icon",{staticStyle:{position:"absolute",top:"0px",right:"0px"},attrs:{name:"el-icon-close",size:"26",pointer:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close()}}})],1),a("el-tabs",{attrs:{type:"card"},model:{value:e.pageName,callback:function(t){e.pageName=t},expression:"pageName"}},e._l(e.tabs,(function(e,t){return a("el-tab-pane",{key:t,attrs:{label:e.title,name:e.name}})})),1),a("keep-alive",[a(e.pageName,{tag:"component",attrs:{user:e.value.item},on:{refresh:function(t){arguments[0]=t=e.$handleEvent(t),e.refresh.apply(void 0,arguments)}}})],1)],1):e._e()],1)},i=[]},b7a7:function(e,t,a){"use strict";a.r(t);var n=a("3aeb"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},b817:function(e,t,a){"use strict";a.r(t);var n=a("80ce"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},ba19:function(e,t,a){"use strict";a.r(t);var n=a("16bf"),i=a("6500");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"02005dc6",null,!1,n["a"],void 0);t["default"]=r.exports},c66e:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("vk-data-table-query",{attrs:{columns:e.queryForm1.columns,"main-columns":["no","title","type","add_type"],size:"mini"},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.queryForm1.formData,callback:function(t){e.$set(e.queryForm1,"formData",t)},expression:"queryForm1.formData"}}),a("vk-data-table",{ref:"table1",attrs:{action:e.table1.action,columns:e.table1.columns,"query-form-param":e.queryForm1,"right-btns":["detail_auto"],selection:!1,"row-no":!0,pagination:!0,size:"mini"},on:{update:function(t){arguments[0]=t=e.$handleEvent(t),e.updateBtn.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteBtn.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.currentChange.apply(void 0,arguments)},"selection-change":function(t){arguments[0]=t=e.$handleEvent(t),e.selectionChange.apply(void 0,arguments)}}})],1)},i=[]},c9a4:function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;uni.vk;var i={props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:"",options:"",qrcode:"",url:""}}}},data:function(){return{page:{title:"申请二维码",submitText:"关闭",top:"7vh",width:"800px",loading:!1},qrcode:"",activeName:"微信小程序推广码"}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=n,t=e.value;n._input(t)},_input:function(e){n.$emit("input",e)},onOpen:function(){n=this;var e=n,t=e.value,a=void 0===t?{}:t;a.item;a.qrcode||(this.activeName="h5推广码")},onClose:function(){},open:function(){var e=n,t=e.value;t.show=!0,n._input(t)},close:function(){var e=n,t=e.value;t.show=!1,n._input(t)}},watch:{},computed:{}};t.default=i},cf00:function(e,t,a){"use strict";a.r(t);var n=a("e4b5"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},d25e:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vk-data-dialog",{attrs:{title:e.page.title,top:e.page.top,width:e.page.width,"close-on-click-modal":!0,mode:"form"},on:{open:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpen.apply(void 0,arguments)},closed:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}},model:{value:e.value.show,callback:function(t){e.$set(e.value,"show",t)},expression:"value.show"}},[a("vk-data-form",{ref:"form1",attrs:{"form-type":e.value.mode,rules:e.form1.props.rules,action:e.form1.props.action,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"show-cancel":e.page.showCancel,"cancel-text":e.page.cancelText,"submit-text":e.page.submitText},on:{"update:loading":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form1.props,"loading",t)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.onFormSuccess.apply(void 0,arguments)}},model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1)},i=[]},d54a:function(e,t,a){"use strict";var n=a("888a"),i=a.n(n);i.a},d83e:function(e,t,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a("fcf3")),l=uni.vk,r=l.getVuex("$app.config.maill.rec.addType"),u={props:{user:{type:Object}},data:function(){return{loading:!1,data:{},table1:{action:"admin/sys.user.getRewardRecords",columns:[{key:"value",title:"本次变动",type:"html",width:120,defaultValue:"暂无",align:"right",formatter:function(e,t,a,n){var i=l.pubfn.priceFilter(e),o=e>0?"<text>+".concat(i,"</text>"):'<text style="color:#f56c6c">'.concat(i,"</text>");return o}},{key:"balance",title:"当时余额",type:"money",width:120,defaultValue:"暂无",formatter:function(e,t,a,n){var i;if("object"===(0,o.default)(t.account)){var l=t.account,r=l.allow,u=void 0===r?0:r,c=l.wait,s=void 0===c?0:c;i=u+s}else i=t.balance;return i}},{key:"balance",title:"当时余额",type:"money",width:120,defaultValue:"暂无"},{key:"title",title:"标题",type:"text",width:150,defaultValue:"暂无",align:"left"},{key:"comment",title:"备注",type:"text",width:150,defaultValue:"暂无",align:"left"},{key:"type",title:"收入/支出",type:"tag",width:120,defaultValue:"暂无",data:[{value:1,label:"收入",tagType:"success"},{value:2,label:"支出",tagType:"danger"}]},{key:"is_freeze",title:"奖励类型",type:"tag",width:140,formatter:function(e,t,a,n){return t.is_freeze?{val:"冻结中",tagType:"danger"}:{val:"已解锁",tagType:"success"}}},{key:"unfreeze_time",title:"自动解冻时间",type:"time",width:180,defaultValue:"暂无"},{key:"add_type",title:"添加方式",type:"select",width:140,data:r},{key:"no",title:"单号",type:"text",width:220,defaultValue:"暂无"},{key:"_add_time",title:"本条记录时间",type:"time",width:180},{key:"_id",title:"id",type:"text",width:280}],multipleSelection:[],selectItem:""},queryForm1:{formData:{},columns:[{key:"_add_time",title:"添加时间",type:"datetimerange",width:400,mode:"[]"},{key:"min_value",title:"金额范围",type:"money",width:150,placeholder:"请输入最小金额",fieldName:"value",mode:">="},{key:"max_value",title:"-",type:"money",width:150,placeholder:"请输入最大金额",fieldName:"value",mode:"<="},{key:"no",title:"订单号",type:"text",width:150,placeholder:"请输入订单号"},{key:"title",title:"标题",type:"text",width:150,mode:"%%"},{key:"type",title:"类型",type:"select",width:150,placeholder:"请选择交易类型",data:[{value:1,label:"收入"},{value:2,label:"支出"}]},{key:"add_type",title:"添加方式",type:"select",width:150,mode:"=",data:r},{key:"comment",title:"备注",type:"text",width:150,mode:"%%"},{key:"user_id",title:"用户id",type:"text",width:150,mode:"=",show:["none"]}]}}},created:function(){i=this,i.init()},mounted:function(){},methods:{init:function(){i.queryForm1.formData.user_id=i.user._id},pageOpen:function(){i=this;var e=i,t=e.value;e.form1,t.item},pageClose:function(){},pageBack:function(){var e=i,t=e.value;t.show=!1,i.$emit("input",t)},search:function(){i.$refs.table1.query(),i.$emit("refresh")},refresh:function(){i.$refs.table1.refresh(),i.$emit("refresh")},getCurrentRow:function(){return i.$refs.table1.getCurrentRow()},currentChange:function(e){i.selectItem=e,i.showOneBtn=!!e},selectionChange:function(e){i.multipleSelection=e}},watch:{},computed:{}};t.default=u},dd15:function(e,t,a){"use strict";a.r(t);var n=a("c66e"),i=a("a88c");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"7d4345b6",null,!1,n["a"],void 0);t["default"]=r.exports},e4b5:function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=uni.vk,o={props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:{}}}}},data:function(){return{page:{title:"设为客服",submitText:"确定",cancelText:"关闭",showCancel:!0,top:"7vh",width:"600px"},form1:{data:{},props:{action:"admin/sys.user.updateUserBaseInfo",columns:[{key:"is_service_staff",title:"设为客服",type:"switch",activeValue:1,inactiveValue:0},{key:"service_staff_introduction",title:"客服介绍",type:"text",placeholder:"一句话介绍一下该客服"},{key:"social_info",title:"社交信息",type:"object",columns:[{key:"mobile",title:"手机号",type:"text"},{key:"weixin_no",title:"微信号",type:"text"},{key:"weixin_qrcode",title:"微信二维码",type:"image",limit:1}]}],rules:{"social_info.mobile":[{validator:i.pubfn.validator("mobile"),message:"手机号格式错误",trigger:"blur"}],service_staff_introduction:[{min:0,max:30,message:"长度在 0 到 30 之间",trigger:"blur"}]},labelWidth:"100px"}}}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=n,t=e.value;n.$emit("input",t)},onOpen:function(){n=this;var e=n.value.item,t=void 0===e?{}:e;n.form1.data={_id:t._id,is_service_staff:t.is_service_staff,service_staff_introduction:t.service_staff_introduction,social_info:t.social_info}},onClose:function(){},onFormSuccess:function(){n.value.show=!1,i.pubfn.objectAssignForVue(n.value.item,n.form1.data,n),n.$emit("success")}},watch:{},computed:{}};t.default=o},eaac:function(e,t,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("b7c7"));a("c223"),a("fd3c"),a("5ef2"),a("64aa"),a("3efd"),a("aa9c"),a("5c47"),a("af8f");var o,l=n(a("6b39")),r=n(a("5197")),u=n(a("7bd3")),c=n(a("36d9")),s=n(a("f8ef")),d=n(a("175c")),f=n(a("261e")),p=n(a("ad2c")),m=n(a("4728")),v=n(a("53308")),y=n(a("ba19")),h=n(a("817e")),b=uni.vk,g={},_=[{value:1,label:"男"},{value:2,label:"女"},{value:0,label:"保密"}],w=[],x=[{value:0,label:"正常",tagType:"success"},{value:1,label:"禁用",tagType:"danger"}],k=b.getVuex("$user.mchInfo.fx.level_rule"),$=b.getVuex("$user.mchInfo.vip_level_rule"),O={components:{userRecords:l.default,examineSalesman:r.default,updateInviter:u.default,userTags:c.default,isServiceStaff:s.default,isVerifyStaff:d.default,applyqrcode:f.default,userTagscom:p.default,updateFxLv:m.default,balance:v.default,integral:y.default,balanceTransfer:h.default},data:function(){return{loading:!1,data:{},table1:{action:"admin/sys.user.getList",columns:[{key:"register_date",title:"账号信息",type:"group",width:180,align:"left",sortable:"custom",columns:[{key:"_id",title:"id",type:"text",width:300},{key:"username",title:"账号",type:"text",width:160,defaultValue:"未设置"},{key:"register_date",title:"注册",type:"time",width:160,sortable:"custom"},{key:"status",title:"状态",type:"tag",width:120,defaultValue:0,data:x}]},{key:"master_info.avatar",title:"头像",type:"avatar",width:158,imageWidth:88,shape:"square"},{key:"mobile",title:"用户信息",type:"group",width:180,align:"left",columns:[{key:"nickname",title:"昵称",type:"text",width:120},{key:"mobile",title:"手机",type:"text",width:120,defaultValue:"未绑定"},{key:"vip_lv",title:"等级",type:"select",width:140,defaultValue:"-",data:function(){return $},props:{value:"lv",label:"name",children:"children"},buttons:[{title:"修改",type:"text",mode:"update",show:["row"],click:function(e){b.callFunction({url:"admin/sys.user.updateVipLv",data:e.formData,success:function(t){e.success({msg:"修改成功"})}})}}]},{key:"comment",title:"备注",type:"text",width:120,defaultValue:""}]},{key:"account_per.my_payment",title:"累计消费",type:"money",width:100,sortable:"custom",defaultValue:0},{key:"account_balance.balance",title:"余额账户",type:"group",width:160,align:"left",sortable:"custom",columns:[{key:"account_balance.balance",title:"余额",type:"money",width:120,sortable:"custom"},{key:"account_balance.used",title:"使用",type:"money",width:120,sortable:"custom"},{key:"account_balance.total",title:"累计",type:"money",width:120,sortable:"custom"}]},{key:"account_reward.allow",title:"佣金账户",type:"group",width:160,align:"left",sortable:"custom",columns:[{key:"account_reward.wait",title:"在途",type:"money",width:120,sortable:"custom"},{key:"account_reward.allow",title:"可提",type:"money",width:120,sortable:"custom"},{key:"account_reward.total",title:"累计",type:"money",width:120,sortable:"custom"}]},{key:"account_integral.balance",title:"积分账户",type:"group",width:160,align:"left",sortable:"custom",columns:[{key:"account_integral.balance",title:"余额",type:"number",width:120,sortable:"custom"},{key:"account_integral.used",title:"使用",type:"number",width:120,sortable:"custom"},{key:"account_integral.total",title:"累计",type:"number",width:120,sortable:"custom"}]},{key:"vip_lv",title:"会员详细信息",type:"group",width:250,align:"left",sortable:"custom",columns:[{key:"vip_lv",title:"会员等级",type:"select",width:140,defaultValue:"-",data:function(){return $},props:{value:"lv",label:"name",children:"children"}},{key:"vip_get_time",title:"成为会员",type:"text",width:120,formatter:function(e,t,a,n){if(!e)return"-";var i=b.pubfn.timeFormat(e),o=e,l=Date.now(),r=b.pubfn.getCommonTime(o),u=r.todayStart,c=b.pubfn.getCommonTime(l),s=c.todayStart,d=s-u,f=d/864e5+1;return"".concat(i,"（第").concat(Math.floor(f),"天）")}},{key:"vip_lv_get_time",title:"当前等级",type:"text",width:120,formatter:function(e,t,a,n){if(!e)return"-";var i=b.pubfn.timeFormat(e),o=e,l=Date.now(),r=b.pubfn.getCommonTime(o),u=r.todayStart,c=b.pubfn.getCommonTime(l),s=c.todayStart,d=s-u,f=d/864e5+1;return"".concat(i,"（第").concat(Math.floor(f),"天）")}}]},{key:"tagList",title:"标签",type:"text",width:250,formatter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="";return e.map((function(e,a){t+=e.name+"、"})),t=t?t.substring(0,t.length-1):"-",t}}],multipleSelection:[],selectItem:"",rightBtnsMore:[{title:"更换上级",onClick:function(e){b.pubfn.openForm("updateInviter",{item:e})}},{title:"资产明细",onClick:function(e){b.pubfn.openForm("userRecords",{item:e})}},{title:"标签",onClick:function(e){b.pubfn.openForm("userTags",{item:e})}},{title:"设为客服",onClick:function(e){b.pubfn.openForm("isServiceStaff",{item:e})}},{title:"设为核销员",onClick:function(e){b.pubfn.openForm("isVerifyStaff",{item:e})}},{title:"修改余额",onClick:function(e){e.type=1,b.pubfn.openForm("balance",{item:e})}},{title:"修改积分",onClick:function(e){e.type=2,b.pubfn.openForm("integral",{item:e})}},{title:"余额转账",onClick:function(e){e.type=2,b.pubfn.openForm("balanceTransfer",{item:e})}},{title:"推广码",onClick:function(e){e.type=2,o.applyQRcode(e.my_invite_code)},disabled:function(e){return 0==e.fx_lv||0==e.is_fx}}],customRightBtns:[{title:"审核",type:"success",icon:"el-icon-edit",disabled:function(e){return 0!==e.fx.status},onClick:function(e){b.pubfn.openForm("examineSalesman",{item:e})}}]},queryForm1:{formData:{_id:"",is_fx:"",is_master:"",vip_lv:"",fx_lv:"",searchKey:"",dcloud_appid:""},columns:[{key:"dcloud_appid",title:"所属应用",type:"select",width:160,mode:"custom",data:[],props:{value:"appid",label:"name"}},{key:"is_master",title:"用户类型",type:"select",width:140,mode:"=",fieldName:"master_info.is_master",show:!1,clearable:!1,data:[{value:"",label:"全部"},{value:1,label:"师傅"},{value:0,label:"普通用户"},{value:100,label:"待审核的师傅"}]},{key:"vip_lv",title:"会员等级",type:"select",width:140,placeholder:"请选择会员等级",mode:"=",data:function(){return[{lv:"",name:"全部"}].concat((0,i.default)($))},props:{value:"lv",label:"name",children:"children"}},{key:"fx_lv",title:"分销等级",type:"select",width:140,placeholder:"请选择分销等级",mode:"=",data:function(){return[{lv:"",name:"全部"}].concat((0,i.default)(k))},fieldName:"fx.lv",props:{value:"lv",label:"name",children:"children"}},{key:"status",title:"用户状态",type:"select",width:140,mode:"=",data:x},{key:"nickname",title:"用户昵称",type:"text",width:140,mode:"%%"},{key:"mobile",title:"手机号码",type:"text",width:140,mode:"%%"},{key:"_id",title:"用户ID",type:"text",width:155,mode:"="},{key:"inviter_uid",title:"所属上级",type:"text",width:140,mode:"=",placeholder:"请输入上级ID",fieldName:"inviter_uid.0"},{key:"comment",title:"用户备注",type:"text",width:140,mode:"%%"},{key:"vip_code",title:"会员编码",type:"text",width:140,mode:"=",fieldName:"vip_code.code"},{key:"is_service_staff",title:"是客服",type:"select",width:100,mode:"=",data:[{value:1,label:"是"},{value:0,label:"否"}]},{key:"is_verify_staff",title:"是扫码人员",type:"select",width:100,mode:"=",data:[{value:1,label:"是"},{value:0,label:"否"}]},{key:"register_date",title:"注册时间",type:"datetimerange",width:360,mode:"[]"}]},form1:{data:{gender:0,login_appid_type:1,allow_login_background:!1,master_info:{is_master:1,image:"",images:[]}},props:{action:"",columns:[{key:"username",title:"用户名",type:"text",show:["add"]},{key:"nickname",title:"昵称",type:"text"},{key:"gender",title:"性别",type:"radio",data:_},{key:"password",title:"密码",type:"text",tips:"若密码为空，则默认为234567",show:["add"]},{key:"mobile",title:"手机号",type:"text"},{key:"master_info",title:"",type:"object",minWidth:290,align:"left",showLabel:!1,columns:[{key:"avatar",title:"师傅头像",type:"file-select",placeholder:"请选择图片",fileType:"image",imageFit:"contain",tips:"建议尺寸：300*300，最多上传1张"},{key:"images",title:"师傅相册",type:"file-select",placeholder:"请选择图片",fileType:"image",imageFit:"contain",multiple:!0,multipleLimit:20,tips:"建议尺寸：600*600，最多上传1张"},{key:"slogan",title:"slogan口号",type:"text"},{key:"detail",title:"详情图文",type:"custom",component:"custom-editor-tinymce",height:500,placeholder:"开始输入..."}]},{key:"login_appid_type",title:"登录权限",type:"radio",optionType:"button",data:[{value:1,label:"部分应用"},{value:0,label:"全部应用"}],onChange:function(e,t,a,n,i){o.form1.data.allow_login_background=1!==e}},{key:"dcloud_appid",title:"可登录的应用",type:"checkbox",border:!0,itemWidth:100,data:[],props:{value:"appid",label:"name"},showRule:"login_appid_type=1",onChange:function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=!1;i.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.type&&e.type.indexOf("admin")>-1&&(l=!0)})),1===o.form1.data.login_appid_type?o.form1.data.allow_login_background=l:o.form1.data.allow_login_background=!0}},{key:"comment",title:"备注",type:"textarea",maxlength:"99",showWordLimit:!0,autosize:{minRows:2,maxRows:10}}],rules:{username:[{required:!0,validator:b.pubfn.validator("username"),message:"用户名以字母开头，长度在6~18之间，只能包含字母、数字和下划线",trigger:"blur"}],nickname:[{required:!0,message:"昵称为必填字段",trigger:"blur"},{min:2,max:20,message:"昵称长度在 2 到 20 个字符",trigger:"blur"}],password:[{validator:b.pubfn.validator("password"),message:"密码长度在6~18之间，只能包含字母、数字和下划线",trigger:"blur"}],mobile:[{validator:b.pubfn.validator("mobile"),message:"手机号格式错误",trigger:"blur"}]},formType:"",show:!1}},formDatas:{}}},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=this,b=o.vk,o.options=e,o.init(e)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{init:function(e){g["form1"]=b.pubfn.copyObject(o.form1),g["queryForm1.formData"]=b.pubfn.copyObject(o.queryForm1.formData),e._id&&(o.queryForm1.formData._id=e._id),e.is_fx&&(o.queryForm1.formData.is_fx=Number(e.is_fx),uni.setNavigationBarTitle({title:"分销员管理"})),e.is_master?(o.queryForm1.formData.is_master=Number(e.is_master),uni.setNavigationBarTitle({title:"师傅管理"})):uni.setNavigationBarTitle({title:"用户管理"}),k=b.getVuex("$user.mchInfo.fx.level_rule"),$=b.getVuex("$user.mchInfo.vip_level_rule"),o.getAppList()},getAppList:function(e){b.callFunction({url:"admin/system/app/sys/getList",data:{},success:function(e){w=e.rows;var t=b.pubfn.copyObject(e.rows),a=b.pubfn.copyObject(e.rows),n=b.pubfn.getListIndex(o.form1.props.columns,"key","dcloud_appid");o.form1.props.columns[n].data=t,a.unshift({appid:"___error___",name:"不存在的应用"}),a.unshift({appid:"___empty-array___",name:"未绑定应用"}),a.unshift({appid:"___non-existent___",name:"全部应用"});var i=b.pubfn.getListIndex(o.queryForm1.columns,"key","dcloud_appid");o.queryForm1.columns[i].data=a;var l=[];w.map((function(e,t){l.push(e.appid)})),o.queryForm1.formData.appids=l}})},pageTo:function(e){b.navigateTo(e)},resetForm:function(){b.pubfn.resetForm(g,o)},search:function(){o.$refs.table1.search()},refresh:function(){o.$refs.table1.refresh()},getCurrentRow:function(){return o.$refs.table1.getCurrentRow()},currentChange:function(e){o.table1.selectItem=e},selectionChange:function(e){o.table1.multipleSelection=e},querySj:function(e){o.queryForm1.formData=b.pubfn.copyObject(g["queryForm1.formData"]),o.$set(o.queryForm1.formData,"is_fx",""),o.$set(o.queryForm1.formData,"_id",e),o.search()},queryXj:function(e){o.queryForm1.formData=b.pubfn.copyObject(g["queryForm1.formData"]),o.$set(o.queryForm1.formData,"is_fx",""),o.$set(o.queryForm1.formData,"inviter_uid",e),o.search()},addBtn:function(){o.form1.props.action="admin/system/user/sys/add",o.form1.props.formType="add",o.form1.props.title="添加",o.form1.props.show=!0},updateBtn:function(e){var t=e.item;o.form1.props.action="admin/sys.user.updateBaseInfo",o.form1.props.formType="update",o.form1.props.title="编辑",o.form1.props.show=!0,o.form1.data=t},applyQRcode:function(e){var t,a=b.getVuex("$user.mchInfo.h5")||{},n=a.domain,i=a.path;t=i?"".concat(n,"/").concat(i):n;var l="pages/index/index",r="".concat(t,"/").concat(l,"?inviteCode=").concat(e);console.log("url: ",r),o.qrcode&&"888888"==e?b.pubfn.openForm("applyqrcode",{qrcode:o.qrcode,url:r}):b.userCenter.getWeixinMPqrcode({title:"生成中...",data:{scene:"1:".concat(e),page:l},success:function(t){"888888"==e&&(o.qrcode=t.base64),b.pubfn.openForm("applyqrcode",{qrcode:t.base64,url:r})},fail:function(e){b.pubfn.openForm("applyqrcode",{qrcode:null,url:r})}})}},watch:{},computed:{}};t.default=O},ef85:function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=uni.vk,o=i.getVuex("$user.mchInfo.fx.level_rule"),l={props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:{}}}}},data:function(){return{page:{title:"标题",submitText:"确定",cancelText:"关闭",showCancel:!0,top:"7vh",width:"800px"},form1:{data:{},props:{action:"admin/sys.user.updateInviter",columns:[{key:"nickname",title:"昵称",type:"text-view"},{key:"mode",title:"类型",type:"radio",itemWidth:80,data:[{value:1,label:"从现有分销员中选择"},{value:2,label:"系统分销员"},{value:3,label:"无"}]},{key:"inviter_uid",title:"当前上级",type:"table-select",placeholder:"请选择上级",action:"admin/sys.user.getInviterSelectList",rowHeight:50,dialogWidth:960,pageSize:10,multiple:!1,formData:{my_id:""},columns:[{key:"avatar",title:"头像",type:"avatar",width:80,imageWidth:35,shape:"square"},{key:"nickname",title:"昵称",type:"text",nameKey:!0,minWidth:250,formatter:function(e,t,a,n){var i=t.nickname;return t.comment&&(i+="（".concat(t.comment,"）")),i}},{key:"mobile",title:"手机号",type:"text",minWidth:140},{key:"my_invite_code",title:"邀请码",type:"text",minWidth:140},{key:"fx.lv",title:"分销等级",type:"select",minWidth:100,placeholder:"请选择等级",data:o,props:{value:"lv",label:"name",children:"children"}},{key:"_id",title:"id",type:"text",idKey:!0,minWidth:250,show:["none"]}],queryColumns:[{key:"nickname",title:"昵称",type:"text",width:120,mode:"%%"},{key:"mobile",title:"手机号",type:"text",width:120,mode:"%%"},{key:"my_invite_code",title:"邀请码",type:"text",width:125,mode:"%%"},{key:"fx_lv",title:"等级",type:"select",width:135,data:o,fieldName:"fx.lv",props:{value:"lv",label:"name",children:"children"}}],showRule:"mode=1"}],rules:{inviter_uid:[{required:!0,message:"请选择上级",trigger:["blur","change"]}]},labelWidth:"100px"}}}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=n,t=e.value;n.$emit("input",t)},onOpen:function(){n=this;var e=n.value.item,t=void 0===e?{}:e,a=t.inviter_uid?t.inviter_uid[0]:"",i=t.inviter_lock,o=1;a||(o=i?2:3),n.form1.data={mode:o,_id:t._id,nickname:t.nickname,inviter_uid:a,inviter_lock:i},n.form1.props.columns[2].formData.my_id=t._id},onClose:function(){},onFormSuccess:function(){n.value.show=!1,n.$emit("success")}},watch:{},computed:{}};t.default=l},f76c:function(e,t,a){"use strict";a.r(t);var n=a("150c"),i=a("11fc");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"3992897c",null,!1,n["a"],void 0);t["default"]=r.exports},f8ef:function(e,t,a){"use strict";a.r(t);var n=a("7e3f"),i=a("cf00");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);var l=a("828b"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"24dc0892",null,!1,n["a"],void 0);t["default"]=r.exports},fe35:function(e,t,a){"use strict";a.r(t);var n=a("2936"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},ffee:function(e,t,a){"use strict";var n;a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;uni.vk;var i={props:{value:{type:Object,default:function(){return{show:!1,mode:"",item:{}}}}},data:function(){return{page:{title:"分销员审核",submitText:"确定",cancelText:"关闭",showCancel:!0,top:"7vh",width:"600px"},form1:{data:{},props:{action:"admin/sys.salesman.examine",columns:[{key:"",title:"用户提交的信息",type:"bar-title"},{key:"fx",title:"",type:"bar-title"},{key:"",title:"请审核",type:"bar-title"},{key:"status",title:"",type:"radio",data:[{value:1,label:"审核通过"},{value:2,label:"审核不通过"},{value:0,label:"恢复成申请中"}]},{key:"status_str",title:"拒绝原因",type:"textarea",autosize:{minRows:6,maxRows:10},maxlength:200,showWordLimit:!0,showRule:"status==2"}],rules:{},labelWidth:"100px"}},detail:{info:{},columns:[{key:"real_name",title:"姓名",type:"text"},{key:"mobile",title:"手机号",type:"text"},{key:"apply_comment",title:"备注",type:"text"}]}}},mounted:function(){n=this,n.init()},methods:{init:function(){var e=n,t=e.value;n.$emit("input",t)},onOpen:function(){n=this;var e=n.value.item,t=void 0===e?{}:e;n.form1.data={_id:t._id,status:t.fx.status,status_str:t.fx.status_str}},onClose:function(){},onFormSuccess:function(){n.$set(n.value.item.fx,"status",n.form1.data.status),n.$set(n.value.item.fx,"status_str",n.form1.data.status_str),n.value.show=!1,n.$emit("success")}},watch:{},computed:{}};t.default=i}}]);