(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-platform-mp-weixin"],{"0252":function(e,t,a){"use strict";a.r(t);var i=a("8668"),n=a("3756");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);var l=a("828b"),r=Object(l["a"])(n["default"],i["b"],i["c"],!1,null,"453a43b8",null,!1,i["a"],void 0);t["default"]=r.exports},3756:function(e,t,a){"use strict";a.r(t);var i=a("f052"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},8668:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page"},[a("vk-data-page-header",{attrs:{title:e.page.title,"show-back":e.page.showBack},on:{back:function(t){arguments[0]=t=e.$handleEvent(t),e.pageBack.apply(void 0,arguments)}}}),e.page.complete?a("v-uni-view",{directives:[{name:"loading",rawName:"v-loading",value:e.form1.props.loading,expression:"form1.props.loading"}],staticClass:"page-body",staticStyle:{"padding-bottom":"40px"}},[a("vk-data-form",{ref:"form1",attrs:{rules:e.form1.props.rules,action:e.form1.props.action,"form-type":e.form1.props.formType,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"footer-show":!1,"success-msg":e.form1.props.successMsg,"before-action":e.form1.props.beforeAction},on:{"update:loading":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form1.props,"loading",t)},success:function(t){arguments[0]=t=e.$handleEvent(t),e.formSuccess.apply(void 0,arguments)}},model:{value:e.form1.data,callback:function(t){e.$set(e.form1,"data",t)},expression:"form1.data"}})],1):e._e(),a("v-uni-view",{staticClass:"page-footer"},[e.page.showBack?a("el-button",{staticStyle:{"margin-right":"20px",width:"80px"},attrs:{plain:!0,loading:e.form1.props.loading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pageBack.apply(void 0,arguments)}}},[e._v(e._s(e.page.cancelText))]):e._e(),a("el-button",{staticStyle:{width:"80px"},attrs:{type:"primary",loading:e.form1.props.loading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitForm.apply(void 0,arguments)}}},[e._v(e._s(e.page.submitText))])],1),a("v-uni-view",{staticClass:"page-dialog"})],1)},n=[]},f052:function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=i(a("39d8")),l=uni.vk,r={data:function(){return{data:{},page:{title:"微信小程序设置",submitText:"设置",cancelText:"返回",showBack:!1,backPage:"",complete:!1},form1:{data:{share:{title:"",image:""},online_service:!1,login_mode:0,weixin_login_type:"auto"},props:{action:"admin/sys.mch.updateAppSetting",columns:[{key:"",title:"分享设置",type:"bar-title"},{key:"share",title:"默认分享",type:"object",showLabel:!1,columns:[{key:"title",title:"分享标题",type:"text",width:400,tips:"一个好的标题可以吸引用户点进来"},{key:"image",title:"分享封面",type:"file-select",fileType:"image",tips:"一个好看的封面可以吸引用户点进来，建议尺寸：1000*800（5:4）",multiple:!1,multipleLimit:1,imageFit:"cover"}]},{key:"",title:"客服设置",type:"bar-title"},{key:"online_service",title:"在线坐席客服功能",type:"switch",activeValue:!0,inactiveValue:!1,tips:"开启后，微信小程序用户点击联系客服时，会使用在线坐席客服功能（无需加微信好友，仅微信小程序支持）"},{key:"",title:"登录设置",type:"bar-title"},{key:"login_mode",title:"默认登录模式",type:"radio",itemWidth:80,direction:"column",columnMargin:20,data:[{value:0,label:"用微信绑定的手机号授权登录（微信要收费，登录一次要0.03元）",tips:"注意: 微信自2023年8月26日起，手机号快速验证组件将需要付费使用。标准单价为：每次组件调用成功，收费0.03元，若不想支付这个费用，可以选择用微信登录，不用手机号登录"},{value:1,label:"手机号+密码（短信验证码收费）",tips:"用手机号+密码登录时免费"},{value:2,label:"用微信登录（免费）"}],tips:"友情提示：使用手机号登录一般是为了全渠道账号统一，如果用微信登录想微信多端统一，需要将公众号、微信小程序、APP绑定在同一个微信开放平台账号下"},{key:"weixin_login_type",title:"微信登录方式",type:"radio",direction:"column",columnMargin:20,data:[{value:"auto",label:"注册+登录",tips:"使用微信登录时，若账号不存在，则会自动注册并登录（即账号可以不绑定手机号）"},{value:"login",label:"仅登录",tips:"使用微信登录时，若账号不存在，则会强制授权手机号（授权成功后和微信登录一起绑定，可打通全渠道）"},{value:"none",label:"关闭微信登录",tips:"不使用微信登录"}],tips:"友情提示：若想使用手机号打通全渠道登录，请选择仅登录"}],rules:{},labelWidth:"160px",loading:!1,successMsg:"设置成功",beforeAction:function(e){return(0,o.default)({},"mp_weixin",e)}}}}},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=this,l=n.vk,n.options=e,n.init(e)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{init:function(e){n.$nextTick((function(){var e=l.getVuex("$user.mchInfo");n.initData(e),n.page.complete=!0,l.callFunction({url:"client/pub.getMchInfo",loading:{that:n,name:"form1.props.loading"},data:{},success:function(e){n.initData(e.mchInfo),l.setVuex("$user.mchInfo",e.mchInfo)}})}))},initData:function(e){l.pubfn.objectAssign(this.form1.data,e["mp_weixin"])},pageTo:function(e){l.navigateTo(e)},pageBack:function(){var e=getCurrentPages();e.length>1&&e[0].route!==n.$page.route?l.navigateBack():n.page.backPage&&l.navigateTo(n.page.backPage)},resetForm:function(){n.$refs.form1.resetForm()},submitForm:function(){n.$refs.form1.submitForm()},formSuccess:function(e){l.setVuex("$user.mchInfo",e.data.mchInfo)}},watch:{},computed:{}};t.default=r}}]);